     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_task_now
     7 00000000                                 	EXTERN	_memman_alloc_4k
     8 00000000                                 	EXTERN	_timer_alloc
     9 00000000                                 	EXTERN	_timer_init
    10 00000000                                 	EXTERN	_timer_settime
    11 00000000                                 	EXTERN	_file_readfat
    12 00000000                                 	EXTERN	_io_cli
    13 00000000                                 	EXTERN	_fifo32_status
    14 00000000                                 	EXTERN	_fifo32_get
    15 00000000                                 	EXTERN	_io_sti
    16 00000000                                 	EXTERN	_boxfill8
    17 00000000                                 	EXTERN	_sheet_refresh
    18 00000000                                 	EXTERN	_task_sleep
    19 00000000                                 	EXTERN	_putfonts8_asc_sht
    20 00000000                                 	EXTERN	_memman_total
    21 00000000                                 	EXTERN	_sprintf
    22 00000000                                 	EXTERN	_file_search
    23 00000000                                 	EXTERN	_file_loadfile
    24 00000000                                 	EXTERN	_memman_free_4k
    25 00000000                                 	EXTERN	_timer_cancel
    26 00000000                                 	EXTERN	_fifo32_put
    27 00000000                                 	EXTERN	_taskctl
    28 00000000                                 	EXTERN	_open_console
    29 00000000                                 	EXTERN	_sheet_slide
    30 00000000                                 	EXTERN	_sheet_updown
    31 00000000                                 	EXTERN	_open_constask
    32 00000000                                 	EXTERN	_set_segmdesc
    33 00000000                                 	EXTERN	_start_app
    34 00000000                                 	EXTERN	_timer_cancelall
    35 00000000                                 	EXTERN	_sheet_free
    36 00000000                                 	EXTERN	_io_in8
    37 00000000                                 	EXTERN	_io_out8
    38 00000000                                 	EXTERN	_timer_free
    39 00000000                                 	EXTERN	_memman_free
    40 00000000                                 	EXTERN	_memman_alloc
    41 00000000                                 	EXTERN	_memman_init
    42 00000000                                 	EXTERN	_putfonts8_asc
    43 00000000                                 	EXTERN	_sheet_alloc
    44 00000000                                 	EXTERN	_sheet_setbuf
    45 00000000                                 	EXTERN	_make_window8
    46 00000000                                 [FILE "console.c"]
    47                                          [SECTION .text]
    48 00000000                                 	GLOBAL	_console_task
    49 00000000                                 _console_task:
    50 00000000 55                              	PUSH	EBP
    51 00000001 89 E5                           	MOV	EBP,ESP
    52 00000003 57                              	PUSH	EDI
    53 00000004 56                              	PUSH	ESI
    54 00000005 53                              	PUSH	EBX
    55 00000006 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
    56 00000009 83 EC 4C                        	SUB	ESP,76
    57 0000000C 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
    58 0000000F E8 [00000000]                   	CALL	_task_now
    59 00000014 68 00002D00                     	PUSH	11520
    60 00000019 68 003C0000                     	PUSH	3932160
    61 0000001E 89 45 B0                        	MOV	DWORD [-80+EBP],EAX
    62 00000021 E8 [00000000]                   	CALL	_memman_alloc_4k
    63 00000026 85 FF                           	TEST	EDI,EDI
    64 00000028 89 7D D4                        	MOV	DWORD [-44+EBP],EDI
    65 0000002B 89 45 AC                        	MOV	DWORD [-84+EBP],EAX
    66 0000002E 8B 45 B0                        	MOV	EAX,DWORD [-80+EBP]
    67 00000031 C7 45 D8 00000008               	MOV	DWORD [-40+EBP],8
    68 00000038 89 98 00000094                  	MOV	DWORD [148+EAX],EBX
    69 0000003E 58                              	POP	EAX
    70 0000003F C7 45 DC 0000001C               	MOV	DWORD [-36+EBP],28
    71 00000046 C7 45 E0 FFFFFFFF               	MOV	DWORD [-32+EBP],-1
    72 0000004D 5A                              	POP	EDX
    73 0000004E 74 24                           	JE	L2
    74 00000050 E8 [00000000]                   	CALL	_timer_alloc
    75 00000055 8B 55 B0                        	MOV	EDX,DWORD [-80+EBP]
    76 00000058 6A 01                           	PUSH	1
    77 0000005A 83 C2 10                        	ADD	EDX,16
    78 0000005D 52                              	PUSH	EDX
    79 0000005E 89 45 E4                        	MOV	DWORD [-28+EBP],EAX
    80 00000061 50                              	PUSH	EAX
    81 00000062 E8 [00000000]                   	CALL	_timer_init
    82 00000067 6A 32                           	PUSH	50
    83 00000069 FF 75 E4                        	PUSH	DWORD [-28+EBP]
    84 0000006C E8 [00000000]                   	CALL	_timer_settime
    85 00000071 83 C4 14                        	ADD	ESP,20
    86 00000074                                 L2:
    87 00000074 68 00100200                     	PUSH	1049088
    88 00000079 FF 75 AC                        	PUSH	DWORD [-84+EBP]
    89 0000007C E8 [00000000]                   	CALL	_file_readfat
    90 00000081 6A 01                           	PUSH	1
    91 00000083 6A 3E                           	PUSH	62
    92 00000085 53                              	PUSH	EBX
    93 00000086 E8 00000210                     	CALL	_cons_putchar
    94 0000008B                                 L27:
    95 0000008B 83 C4 14                        	ADD	ESP,20
    96 0000008E                                 L3:
    97 0000008E E8 [00000000]                   	CALL	_io_cli
    98 00000093 8B 5D B0                        	MOV	EBX,DWORD [-80+EBP]
    99 00000096 83 C3 10                        	ADD	EBX,16
   100 00000099 53                              	PUSH	EBX
   101 0000009A E8 [00000000]                   	CALL	_fifo32_status
   102 0000009F 5E                              	POP	ESI
   103 000000A0 85 C0                           	TEST	EAX,EAX
   104 000000A2 0F 84 000001E0                  	JE	L30
   105 000000A8 53                              	PUSH	EBX
   106 000000A9 E8 [00000000]                   	CALL	_fifo32_get
   107 000000AE 89 C6                           	MOV	ESI,EAX
   108 000000B0 E8 [00000000]                   	CALL	_io_sti
   109 000000B5 59                              	POP	ECX
   110 000000B6 83 FE 01                        	CMP	ESI,1
   111 000000B9 0F 8E 0000017C                  	JLE	L31
   112 000000BF                                 L8:
   113 000000BF 83 FE 02                        	CMP	ESI,2
   114 000000C2 0F 84 00000167                  	JE	L32
   115 000000C8                                 L13:
   116 000000C8 83 FE 03                        	CMP	ESI,3
   117 000000CB 0F 84 0000012F                  	JE	L33
   118 000000D1                                 L14:
   119 000000D1 83 FE 04                        	CMP	ESI,4
   120 000000D4 0F 84 00000113                  	JE	L34
   121 000000DA                                 L16:
   122 000000DA 8D 8E FFFFFF00                  	LEA	ECX,DWORD [-256+ESI]
   123 000000E0 89 4D A8                        	MOV	DWORD [-88+EBP],ECX
   124 000000E3 81 F9 000000FF                  	CMP	ECX,255
   125 000000E9 77 44                           	JA	L17
   126 000000EB 81 FE 00000108                  	CMP	ESI,264
   127 000000F1 0F 84 000000D6                  	JE	L35
   128 000000F7 81 FE 0000010A                  	CMP	ESI,266
   129 000000FD 74 7B                           	JE	L36
   130 000000FF 8B 4D D8                        	MOV	ECX,DWORD [-40+EBP]
   131 00000102 81 F9 000000EF                  	CMP	ECX,239
   132 00000108 7F 25                           	JG	L17
   133 0000010A 89 C8                           	MOV	EAX,ECX
   134 0000010C BA 00000008                     	MOV	EDX,8
   135 00000111 89 D3                           	MOV	EBX,EDX
   136 00000113 6A 01                           	PUSH	1
   137 00000115 99                              	CDQ
   138 00000116 F7 FB                           	IDIV	EBX
   139 00000118 89 C1                           	MOV	ECX,EAX
   140 0000011A 89 F0                           	MOV	EAX,ESI
   141 0000011C 88 44 0D B2                     	MOV	BYTE [-78+EBP+ECX*1],AL
   142 00000120 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   143 00000123 FF 75 A8                        	PUSH	DWORD [-88+EBP]
   144 00000126 50                              	PUSH	EAX
   145 00000127                                 L28:
   146 00000127 E8 0000016F                     	CALL	_cons_putchar
   147 0000012C                                 L29:
   148 0000012C 83 C4 0C                        	ADD	ESP,12
   149 0000012F                                 L17:
   150 0000012F 85 FF                           	TEST	EDI,EDI
   151 00000131 0F 84 FFFFFF57                  	JE	L3
   152 00000137 83 7D E0 00                     	CMP	DWORD [-32+EBP],0
   153 0000013B 78 22                           	JS	L26
   154 0000013D 8B 4D DC                        	MOV	ECX,DWORD [-36+EBP]
   155 00000140 8B 55 D8                        	MOV	EDX,DWORD [-40+EBP]
   156 00000143 8D 41 0F                        	LEA	EAX,DWORD [15+ECX]
   157 00000146 50                              	PUSH	EAX
   158 00000147 8D 42 07                        	LEA	EAX,DWORD [7+EDX]
   159 0000014A 50                              	PUSH	EAX
   160 0000014B 51                              	PUSH	ECX
   161 0000014C 52                              	PUSH	EDX
   162 0000014D 0F B6 45 E0                     	MOVZX	EAX,BYTE [-32+EBP]
   163 00000151 50                              	PUSH	EAX
   164 00000152 FF 77 04                        	PUSH	DWORD [4+EDI]
   165 00000155 FF 37                           	PUSH	DWORD [EDI]
   166 00000157 E8 [00000000]                   	CALL	_boxfill8
   167 0000015C 83 C4 1C                        	ADD	ESP,28
   168 0000015F                                 L26:
   169 0000015F 8B 4D DC                        	MOV	ECX,DWORD [-36+EBP]
   170 00000162 8B 55 D8                        	MOV	EDX,DWORD [-40+EBP]
   171 00000165 8D 41 10                        	LEA	EAX,DWORD [16+ECX]
   172 00000168 50                              	PUSH	EAX
   173 00000169 8D 42 08                        	LEA	EAX,DWORD [8+EDX]
   174 0000016C 50                              	PUSH	EAX
   175 0000016D 51                              	PUSH	ECX
   176 0000016E 52                              	PUSH	EDX
   177 0000016F 57                              	PUSH	EDI
   178 00000170 E8 [00000000]                   	CALL	_sheet_refresh
   179 00000175 E9 FFFFFF11                     	JMP	L27
   180 0000017A                                 L36:
   181 0000017A 6A 00                           	PUSH	0
   182 0000017C 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
   183 0000017F 6A 20                           	PUSH	32
   184 00000181 53                              	PUSH	EBX
   185 00000182 E8 00000114                     	CALL	_cons_putchar
   186 00000187 53                              	PUSH	EBX
   187 00000188 8B 45 D8                        	MOV	EAX,DWORD [-40+EBP]
   188 0000018B BA 00000008                     	MOV	EDX,8
   189 00000190 89 D1                           	MOV	ECX,EDX
   190 00000192 99                              	CDQ
   191 00000193 F7 F9                           	IDIV	ECX
   192 00000195 C6 44 05 B2 00                  	MOV	BYTE [-78+EBP+EAX*1],0
   193 0000019A E8 000001AD                     	CALL	_cons_newline
   194 0000019F 8D 45 B4                        	LEA	EAX,DWORD [-76+EBP]
   195 000001A2 FF 75 0C                        	PUSH	DWORD [12+EBP]
   196 000001A5 FF 75 AC                        	PUSH	DWORD [-84+EBP]
   197 000001A8 53                              	PUSH	EBX
   198 000001A9 50                              	PUSH	EAX
   199 000001AA E8 000002BF                     	CALL	_cons_runcmd
   200 000001AF 83 C4 20                        	ADD	ESP,32
   201 000001B2 85 FF                           	TEST	EDI,EDI
   202 000001B4 74 0A                           	JE	L37
   203 000001B6                                 L22:
   204 000001B6 6A 01                           	PUSH	1
   205 000001B8 6A 3E                           	PUSH	62
   206 000001BA 53                              	PUSH	EBX
   207 000001BB E9 FFFFFF67                     	JMP	L28
   208 000001C0                                 L37:
   209 000001C0 FF 75 AC                        	PUSH	DWORD [-84+EBP]
   210 000001C3 53                              	PUSH	EBX
   211 000001C4 E8 00000601                     	CALL	_cmd_exit
   212 000001C9 58                              	POP	EAX
   213 000001CA 5A                              	POP	EDX
   214 000001CB EB E9                           	JMP	L22
   215 000001CD                                 L35:
   216 000001CD 83 7D D8 10                     	CMP	DWORD [-40+EBP],16
   217 000001D1 0F 8E FFFFFF58                  	JLE	L17
   218 000001D7 6A 00                           	PUSH	0
   219 000001D9 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   220 000001DC 6A 20                           	PUSH	32
   221 000001DE 50                              	PUSH	EAX
   222 000001DF E8 000000B7                     	CALL	_cons_putchar
   223 000001E4 83 6D D8 08                     	SUB	DWORD [-40+EBP],8
   224 000001E8 E9 FFFFFF3F                     	JMP	L29
   225 000001ED                                 L34:
   226 000001ED FF 75 AC                        	PUSH	DWORD [-84+EBP]
   227 000001F0 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   228 000001F3 50                              	PUSH	EAX
   229 000001F4 E8 000005D1                     	CALL	_cmd_exit
   230 000001F9 59                              	POP	ECX
   231 000001FA 5B                              	POP	EBX
   232 000001FB E9 FFFFFEDA                     	JMP	L16
   233 00000200                                 L33:
   234 00000200 85 FF                           	TEST	EDI,EDI
   235 00000202 74 1F                           	JE	L15
   236 00000204 8B 4D DC                        	MOV	ECX,DWORD [-36+EBP]
   237 00000207 8B 55 D8                        	MOV	EDX,DWORD [-40+EBP]
   238 0000020A 8D 41 0F                        	LEA	EAX,DWORD [15+ECX]
   239 0000020D 50                              	PUSH	EAX
   240 0000020E 8D 42 07                        	LEA	EAX,DWORD [7+EDX]
   241 00000211 50                              	PUSH	EAX
   242 00000212 51                              	PUSH	ECX
   243 00000213 52                              	PUSH	EDX
   244 00000214 6A 00                           	PUSH	0
   245 00000216 FF 77 04                        	PUSH	DWORD [4+EDI]
   246 00000219 FF 37                           	PUSH	DWORD [EDI]
   247 0000021B E8 [00000000]                   	CALL	_boxfill8
   248 00000220 83 C4 1C                        	ADD	ESP,28
   249 00000223                                 L15:
   250 00000223 C7 45 E0 FFFFFFFF               	MOV	DWORD [-32+EBP],-1
   251 0000022A E9 FFFFFEA2                     	JMP	L14
   252 0000022F                                 L32:
   253 0000022F C7 45 E0 00000007               	MOV	DWORD [-32+EBP],7
   254 00000236 E9 FFFFFE8D                     	JMP	L13
   255 0000023B                                 L31:
   256 0000023B 85 F6                           	TEST	ESI,ESI
   257 0000023D 74 2C                           	JE	L9
   258 0000023F 6A 00                           	PUSH	0
   259 00000241 53                              	PUSH	EBX
   260 00000242 FF 75 E4                        	PUSH	DWORD [-28+EBP]
   261 00000245 E8 [00000000]                   	CALL	_timer_init
   262 0000024A 83 C4 0C                        	ADD	ESP,12
   263 0000024D 83 7D E0 00                     	CMP	DWORD [-32+EBP],0
   264 00000251 78 07                           	JS	L11
   265 00000253 C7 45 E0 00000007               	MOV	DWORD [-32+EBP],7
   266 0000025A                                 L11:
   267 0000025A 6A 32                           	PUSH	50
   268 0000025C FF 75 E4                        	PUSH	DWORD [-28+EBP]
   269 0000025F E8 [00000000]                   	CALL	_timer_settime
   270 00000264 58                              	POP	EAX
   271 00000265 5A                              	POP	EDX
   272 00000266 E9 FFFFFE54                     	JMP	L8
   273 0000026B                                 L9:
   274 0000026B 6A 01                           	PUSH	1
   275 0000026D 53                              	PUSH	EBX
   276 0000026E FF 75 E4                        	PUSH	DWORD [-28+EBP]
   277 00000271 E8 [00000000]                   	CALL	_timer_init
   278 00000276 83 C4 0C                        	ADD	ESP,12
   279 00000279 83 7D E0 00                     	CMP	DWORD [-32+EBP],0
   280 0000027D 78 DB                           	JS	L11
   281 0000027F C7 45 E0 00000000               	MOV	DWORD [-32+EBP],0
   282 00000286 EB D2                           	JMP	L11
   283 00000288                                 L30:
   284 00000288 FF 75 B0                        	PUSH	DWORD [-80+EBP]
   285 0000028B E8 [00000000]                   	CALL	_task_sleep
   286 00000290 E8 [00000000]                   	CALL	_io_sti
   287 00000295 5B                              	POP	EBX
   288 00000296 E9 FFFFFDF3                     	JMP	L3
   289                                          [SECTION .data]
   290 00000000                                 LC0:
   291 00000000 20 00                           	DB	" ",0x00
   292                                          [SECTION .text]
   293 0000029B                                 	GLOBAL	_cons_putchar
   294 0000029B                                 _cons_putchar:
   295 0000029B 55                              	PUSH	EBP
   296 0000029C 89 E5                           	MOV	EBP,ESP
   297 0000029E 53                              	PUSH	EBX
   298 0000029F 50                              	PUSH	EAX
   299 000002A0 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   300 000002A3 8A 55 10                        	MOV	DL,BYTE [16+EBP]
   301 000002A6 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   302 000002A9 88 55 F9                        	MOV	BYTE [-7+EBP],DL
   303 000002AC 88 45 FA                        	MOV	BYTE [-6+EBP],AL
   304 000002AF 3C 09                           	CMP	AL,9
   305 000002B1 C6 45 FB 00                     	MOV	BYTE [-5+EBP],0
   306 000002B5 74 4D                           	JE	L40
   307 000002B7 3C 0A                           	CMP	AL,10
   308 000002B9 74 25                           	JE	L54
   309 000002BB 3C 0D                           	CMP	AL,13
   310 000002BD 74 1C                           	JE	L38
   311 000002BF 8B 13                           	MOV	EDX,DWORD [EBX]
   312 000002C1 85 D2                           	TEST	EDX,EDX
   313 000002C3 75 24                           	JNE	L55
   314 000002C5                                 L51:
   315 000002C5 80 7D F9 00                     	CMP	BYTE [-7+EBP],0
   316 000002C9 74 10                           	JE	L38
   317 000002CB 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   318 000002CE 83 C0 08                        	ADD	EAX,8
   319 000002D1 89 43 04                        	MOV	DWORD [4+EBX],EAX
   320 000002D4 3D 000000F8                     	CMP	EAX,248
   321 000002D9 74 05                           	JE	L54
   322 000002DB                                 L38:
   323 000002DB 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
   324 000002DE C9                              	LEAVE
   325 000002DF C3                              	RET
   326 000002E0                                 L54:
   327 000002E0 53                              	PUSH	EBX
   328 000002E1 E8 00000066                     	CALL	_cons_newline
   329 000002E6 59                              	POP	ECX
   330 000002E7 EB F2                           	JMP	L38
   331 000002E9                                 L55:
   332 000002E9 6A 01                           	PUSH	1
   333 000002EB 8D 45 FA                        	LEA	EAX,DWORD [-6+EBP]
   334 000002EE 50                              	PUSH	EAX
   335 000002EF 6A 00                           	PUSH	0
   336 000002F1 6A 07                           	PUSH	7
   337 000002F3 FF 73 08                        	PUSH	DWORD [8+EBX]
   338 000002F6 FF 73 04                        	PUSH	DWORD [4+EBX]
   339 000002F9 52                              	PUSH	EDX
   340 000002FA E8 [00000000]                   	CALL	_putfonts8_asc_sht
   341 000002FF 83 C4 1C                        	ADD	ESP,28
   342 00000302 EB C1                           	JMP	L51
   343 00000304                                 L40:
   344 00000304 8B 03                           	MOV	EAX,DWORD [EBX]
   345 00000306 85 C0                           	TEST	EAX,EAX
   346 00000308 75 26                           	JNE	L56
   347 0000030A                                 L43:
   348 0000030A 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   349 0000030D 83 C0 08                        	ADD	EAX,8
   350 00000310 89 43 04                        	MOV	DWORD [4+EBX],EAX
   351 00000313 3D 000000F8                     	CMP	EAX,248
   352 00000318 74 0D                           	JE	L57
   353 0000031A                                 L44:
   354 0000031A 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   355 0000031D 83 E8 08                        	SUB	EAX,8
   356 00000320 83 E0 1F                        	AND	EAX,31
   357 00000323 75 DF                           	JNE	L40
   358 00000325 EB B4                           	JMP	L38
   359 00000327                                 L57:
   360 00000327 53                              	PUSH	EBX
   361 00000328 E8 0000001F                     	CALL	_cons_newline
   362 0000032D 58                              	POP	EAX
   363 0000032E EB EA                           	JMP	L44
   364 00000330                                 L56:
   365 00000330 6A 01                           	PUSH	1
   366 00000332 68 [00000000]                   	PUSH	LC0
   367 00000337 6A 00                           	PUSH	0
   368 00000339 6A 07                           	PUSH	7
   369 0000033B FF 73 08                        	PUSH	DWORD [8+EBX]
   370 0000033E FF 73 04                        	PUSH	DWORD [4+EBX]
   371 00000341 50                              	PUSH	EAX
   372 00000342 E8 [00000000]                   	CALL	_putfonts8_asc_sht
   373 00000347 83 C4 1C                        	ADD	ESP,28
   374 0000034A EB BE                           	JMP	L43
   375 0000034C                                 	GLOBAL	_cons_newline
   376 0000034C                                 _cons_newline:
   377 0000034C 55                              	PUSH	EBP
   378 0000034D 89 E5                           	MOV	EBP,ESP
   379 0000034F 57                              	PUSH	EDI
   380 00000350 56                              	PUSH	ESI
   381 00000351 53                              	PUSH	EBX
   382 00000352 50                              	PUSH	EAX
   383 00000353 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   384 00000356 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   385 00000359 8B 00                           	MOV	EAX,DWORD [EAX]
   386 0000035B 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   387 0000035E 8B 42 08                        	MOV	EAX,DWORD [8+EDX]
   388 00000361 3D 0000008B                     	CMP	EAX,139
   389 00000366 7F 18                           	JG	L59
   390 00000368 83 C0 10                        	ADD	EAX,16
   391 0000036B 89 42 08                        	MOV	DWORD [8+EDX],EAX
   392 0000036E                                 L60:
   393 0000036E 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   394 00000371 C7 40 04 00000008               	MOV	DWORD [4+EAX],8
   395 00000378 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   396 0000037B 5B                              	POP	EBX
   397 0000037C 5E                              	POP	ESI
   398 0000037D 5F                              	POP	EDI
   399 0000037E 5D                              	POP	EBP
   400 0000037F C3                              	RET
   401 00000380                                 L59:
   402 00000380 83 7D F0 00                     	CMP	DWORD [-16+EBP],0
   403 00000384 74 E8                           	JE	L60
   404 00000386 BF 0000001C                     	MOV	EDI,28
   405 0000038B                                 L71:
   406 0000038B BE 00000008                     	MOV	ESI,8
   407 00000390                                 L70:
   408 00000390 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   409 00000393 89 FA                           	MOV	EDX,EDI
   410 00000395 8B 48 04                        	MOV	ECX,DWORD [4+EAX]
   411 00000398 8B 18                           	MOV	EBX,DWORD [EAX]
   412 0000039A 8D 47 10                        	LEA	EAX,DWORD [16+EDI]
   413 0000039D 0F AF C1                        	IMUL	EAX,ECX
   414 000003A0 0F AF D1                        	IMUL	EDX,ECX
   415 000003A3 8D 04 30                        	LEA	EAX,DWORD [EAX+ESI*1]
   416 000003A6 8D 14 32                        	LEA	EDX,DWORD [EDX+ESI*1]
   417 000003A9 46                              	INC	ESI
   418 000003AA 8A 04 18                        	MOV	AL,BYTE [EAX+EBX*1]
   419 000003AD 81 FE 000000F7                  	CMP	ESI,247
   420 000003B3 88 04 1A                        	MOV	BYTE [EDX+EBX*1],AL
   421 000003B6 7E D8                           	JLE	L70
   422 000003B8 47                              	INC	EDI
   423 000003B9 81 FF 0000008B                  	CMP	EDI,139
   424 000003BF 7E CA                           	JLE	L71
   425 000003C1 BF 0000008C                     	MOV	EDI,140
   426 000003C6                                 L81:
   427 000003C6 BE 00000008                     	MOV	ESI,8
   428 000003CB                                 L80:
   429 000003CB 8B 55 F0                        	MOV	EDX,DWORD [-16+EBP]
   430 000003CE 89 F8                           	MOV	EAX,EDI
   431 000003D0 89 D1                           	MOV	ECX,EDX
   432 000003D2 0F AF 42 04                     	IMUL	EAX,DWORD [4+EDX]
   433 000003D6 8B 12                           	MOV	EDX,DWORD [EDX]
   434 000003D8 8D 04 30                        	LEA	EAX,DWORD [EAX+ESI*1]
   435 000003DB 46                              	INC	ESI
   436 000003DC 81 FE 000000F7                  	CMP	ESI,247
   437 000003E2 C6 04 10 00                     	MOV	BYTE [EAX+EDX*1],0
   438 000003E6 7E E3                           	JLE	L80
   439 000003E8 47                              	INC	EDI
   440 000003E9 81 FF 0000009B                  	CMP	EDI,155
   441 000003EF 7E D5                           	JLE	L81
   442 000003F1 68 0000009C                     	PUSH	156
   443 000003F6 68 000000F8                     	PUSH	248
   444 000003FB 6A 1C                           	PUSH	28
   445 000003FD 6A 08                           	PUSH	8
   446 000003FF 51                              	PUSH	ECX
   447 00000400 E8 [00000000]                   	CALL	_sheet_refresh
   448 00000405 83 C4 14                        	ADD	ESP,20
   449 00000408 E9 FFFFFF61                     	JMP	L60
   450 0000040D                                 	GLOBAL	_cons_putstr0
   451 0000040D                                 _cons_putstr0:
   452 0000040D 55                              	PUSH	EBP
   453 0000040E 89 E5                           	MOV	EBP,ESP
   454 00000410 56                              	PUSH	ESI
   455 00000411 53                              	PUSH	EBX
   456 00000412 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   457 00000415 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   458 00000418 80 3B 00                        	CMP	BYTE [EBX],0
   459 0000041B 75 07                           	JNE	L95
   460 0000041D                                 L97:
   461 0000041D 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
   462 00000420 5B                              	POP	EBX
   463 00000421 5E                              	POP	ESI
   464 00000422 5D                              	POP	EBP
   465 00000423 C3                              	RET
   466 00000424                                 L95:
   467 00000424 6A 01                           	PUSH	1
   468 00000426 0F BE 03                        	MOVSX	EAX,BYTE [EBX]
   469 00000429 50                              	PUSH	EAX
   470 0000042A 43                              	INC	EBX
   471 0000042B 56                              	PUSH	ESI
   472 0000042C E8 FFFFFE6A                     	CALL	_cons_putchar
   473 00000431 83 C4 0C                        	ADD	ESP,12
   474 00000434 80 3B 00                        	CMP	BYTE [EBX],0
   475 00000437 75 EB                           	JNE	L95
   476 00000439 EB E2                           	JMP	L97
   477 0000043B                                 	GLOBAL	_cons_putstr1
   478 0000043B                                 _cons_putstr1:
   479 0000043B 55                              	PUSH	EBP
   480 0000043C 89 E5                           	MOV	EBP,ESP
   481 0000043E 57                              	PUSH	EDI
   482 0000043F 56                              	PUSH	ESI
   483 00000440 53                              	PUSH	EBX
   484 00000441 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   485 00000444 31 DB                           	XOR	EBX,EBX
   486 00000446 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   487 00000449 39 F3                           	CMP	EBX,ESI
   488 0000044B 7C 08                           	JL	L103
   489 0000044D                                 L105:
   490 0000044D 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   491 00000450 5B                              	POP	EBX
   492 00000451 5E                              	POP	ESI
   493 00000452 5F                              	POP	EDI
   494 00000453 5D                              	POP	EBP
   495 00000454 C3                              	RET
   496 00000455                                 L103:
   497 00000455 6A 01                           	PUSH	1
   498 00000457 0F BE 04 3B                     	MOVSX	EAX,BYTE [EBX+EDI*1]
   499 0000045B 50                              	PUSH	EAX
   500 0000045C 43                              	INC	EBX
   501 0000045D FF 75 08                        	PUSH	DWORD [8+EBP]
   502 00000460 E8 FFFFFE36                     	CALL	_cons_putchar
   503 00000465 83 C4 0C                        	ADD	ESP,12
   504 00000468 39 F3                           	CMP	EBX,ESI
   505 0000046A 7C E9                           	JL	L103
   506 0000046C EB DF                           	JMP	L105
   507                                          [SECTION .data]
   508 00000002                                 LC1:
   509 00000002 6D 65 6D 00                     	DB	"mem",0x00
   510 00000006                                 LC2:
   511 00000006 63 6C 73 00                     	DB	"cls",0x00
   512 0000000A                                 LC3:
   513 0000000A 64 69 72 00                     	DB	"dir",0x00
   514 0000000E                                 LC4:
   515 0000000E 74 79 70 65 20 00               	DB	"type ",0x00
   516 00000014                                 LC5:
   517 00000014 65 78 69 74 00                  	DB	"exit",0x00
   518 00000019                                 LC6:
   519 00000019 73 74 61 72 74 20 00            	DB	"start ",0x00
   520 00000020                                 LC7:
   521 00000020 6E 63 73 74 20 00               	DB	"ncst ",0x00
   522 00000026                                 LC8:
   523 00000026 42 61 64 20 63 6F 6D 6D 61 6E   	DB	"Bad command.",0x0A,0x0A,0x00
       00000030 64 2E 0A 0A 00 
   524                                          [SECTION .text]
   525 0000046E                                 	GLOBAL	_cons_runcmd
   526 0000046E                                 _cons_runcmd:
   527 0000046E 55                              	PUSH	EBP
   528 0000046F 89 E5                           	MOV	EBP,ESP
   529 00000471 57                              	PUSH	EDI
   530 00000472 56                              	PUSH	ESI
   531 00000473 BF [00000002]                   	MOV	EDI,LC1
   532 00000478 53                              	PUSH	EBX
   533 00000479 83 EC 0C                        	SUB	ESP,12
   534 0000047C 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   535 0000047F 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
   536 00000482 89 45 E8                        	MOV	DWORD [-24+EBP],EAX
   537 00000485 89 4D F0                        	MOV	DWORD [-16+EBP],ECX
   538 00000488 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   539 0000048B 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   540 0000048E 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   541 00000491 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   542 00000494 B8 00000004                     	MOV	EAX,4
   543 00000499 FC                              	CLD
   544 0000049A 89 C1                           	MOV	ECX,EAX
   545 0000049C F3                              	REPE
   546 0000049D A6                              	CMPSB
   547 0000049E 75 09                           	JNE	L107
   548 000004A0 83 3B 00                        	CMP	DWORD [EBX],0
   549 000004A3 0F 85 0000014F                  	JNE	L123
   550 000004A9                                 L107:
   551 000004A9 B8 00000004                     	MOV	EAX,4
   552 000004AE 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   553 000004B1 FC                              	CLD
   554 000004B2 BF [00000006]                   	MOV	EDI,LC2
   555 000004B7 89 C1                           	MOV	ECX,EAX
   556 000004B9 F3                              	REPE
   557 000004BA A6                              	CMPSB
   558 000004BB 75 09                           	JNE	L109
   559 000004BD 83 3B 00                        	CMP	DWORD [EBX],0
   560 000004C0 0F 85 00000126                  	JNE	L124
   561 000004C6                                 L109:
   562 000004C6 B8 00000004                     	MOV	EAX,4
   563 000004CB 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   564 000004CE FC                              	CLD
   565 000004CF BF [0000000A]                   	MOV	EDI,LC3
   566 000004D4 89 C1                           	MOV	ECX,EAX
   567 000004D6 F3                              	REPE
   568 000004D7 A6                              	CMPSB
   569 000004D8 75 09                           	JNE	L111
   570 000004DA 83 3B 00                        	CMP	DWORD [EBX],0
   571 000004DD 0F 85 000000FA                  	JNE	L125
   572 000004E3                                 L111:
   573 000004E3 B8 00000005                     	MOV	EAX,5
   574 000004E8 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   575 000004EB FC                              	CLD
   576 000004EC BF [0000000E]                   	MOV	EDI,LC4
   577 000004F1 89 C1                           	MOV	ECX,EAX
   578 000004F3 F3                              	REPE
   579 000004F4 A6                              	CMPSB
   580 000004F5 75 09                           	JNE	L113
   581 000004F7 83 3B 00                        	CMP	DWORD [EBX],0
   582 000004FA 0F 85 000000C2                  	JNE	L126
   583 00000500                                 L113:
   584 00000500 B8 00000005                     	MOV	EAX,5
   585 00000505 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   586 00000508 FC                              	CLD
   587 00000509 BF [00000014]                   	MOV	EDI,LC5
   588 0000050E 89 C1                           	MOV	ECX,EAX
   589 00000510 F3                              	REPE
   590 00000511 A6                              	CMPSB
   591 00000512 0F 84 00000095                  	JE	L127
   592 00000518 B8 00000006                     	MOV	EAX,6
   593 0000051D 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   594 00000520 FC                              	CLD
   595 00000521 BF [00000019]                   	MOV	EDI,LC6
   596 00000526 89 C1                           	MOV	ECX,EAX
   597 00000528 F3                              	REPE
   598 00000529 A6                              	CMPSB
   599 0000052A 74 66                           	JE	L128
   600 0000052C B8 00000005                     	MOV	EAX,5
   601 00000531 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   602 00000534 FC                              	CLD
   603 00000535 BF [00000020]                   	MOV	EDI,LC7
   604 0000053A 89 C1                           	MOV	ECX,EAX
   605 0000053C F3                              	REPE
   606 0000053D A6                              	CMPSB
   607 0000053E 74 37                           	JE	L129
   608 00000540 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
   609 00000543 80 38 00                        	CMP	BYTE [EAX],0
   610 00000546 75 08                           	JNE	L130
   611 00000548                                 L106:
   612 00000548 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   613 0000054B 5B                              	POP	EBX
   614 0000054C 5E                              	POP	ESI
   615 0000054D 5F                              	POP	EDI
   616 0000054E 5D                              	POP	EBP
   617 0000054F C3                              	RET
   618 00000550                                 L130:
   619 00000550 50                              	PUSH	EAX
   620 00000551 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   621 00000554 53                              	PUSH	EBX
   622 00000555 E8 000003F6                     	CALL	_cmd_app
   623 0000055A 83 C4 0C                        	ADD	ESP,12
   624 0000055D 85 C0                           	TEST	EAX,EAX
   625 0000055F 75 E7                           	JNE	L106
   626 00000561 C7 45 0C [00000026]             	MOV	DWORD [12+EBP],LC8
   627 00000568 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   628 0000056B 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   629 0000056E 5B                              	POP	EBX
   630 0000056F 5E                              	POP	ESI
   631 00000570 5F                              	POP	EDI
   632 00000571 5D                              	POP	EBP
   633 00000572 E9 FFFFFE96                     	JMP	_cons_putstr0
   634 00000577                                 L129:
   635 00000577 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   636 0000057A 8B 4D E8                        	MOV	ECX,DWORD [-24+EBP]
   637 0000057D 89 45 10                        	MOV	DWORD [16+EBP],EAX
   638 00000580 89 4D 0C                        	MOV	DWORD [12+EBP],ECX
   639 00000583 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   640 00000586 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   641 00000589 5B                              	POP	EBX
   642 0000058A 5E                              	POP	ESI
   643 0000058B 5F                              	POP	EDI
   644 0000058C 5D                              	POP	EBP
   645 0000058D E9 0000035A                     	JMP	_cmd_ncst
   646 00000592                                 L128:
   647 00000592 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   648 00000595 8B 4D E8                        	MOV	ECX,DWORD [-24+EBP]
   649 00000598 89 45 10                        	MOV	DWORD [16+EBP],EAX
   650 0000059B 89 4D 0C                        	MOV	DWORD [12+EBP],ECX
   651 0000059E 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   652 000005A1 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   653 000005A4 5B                              	POP	EBX
   654 000005A5 5E                              	POP	ESI
   655 000005A6 5F                              	POP	EDI
   656 000005A7 5D                              	POP	EBP
   657 000005A8 E9 000002B5                     	JMP	_cmd_start
   658 000005AD                                 L127:
   659 000005AD 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   660 000005B0 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   661 000005B3 89 45 0C                        	MOV	DWORD [12+EBP],EAX
   662 000005B6 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   663 000005B9 5B                              	POP	EBX
   664 000005BA 5E                              	POP	ESI
   665 000005BB 5F                              	POP	EDI
   666 000005BC 5D                              	POP	EBP
   667 000005BD E9 00000208                     	JMP	_cmd_exit
   668 000005C2                                 L126:
   669 000005C2 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
   670 000005C5 8B 4D F0                        	MOV	ECX,DWORD [-16+EBP]
   671 000005C8 89 45 10                        	MOV	DWORD [16+EBP],EAX
   672 000005CB 89 4D 0C                        	MOV	DWORD [12+EBP],ECX
   673 000005CE 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   674 000005D1 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   675 000005D4 5B                              	POP	EBX
   676 000005D5 5E                              	POP	ESI
   677 000005D6 5F                              	POP	EDI
   678 000005D7 5D                              	POP	EBP
   679 000005D8 E9 0000015D                     	JMP	_cmd_type
   680 000005DD                                 L125:
   681 000005DD 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   682 000005E0 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   683 000005E3 5B                              	POP	EBX
   684 000005E4 5E                              	POP	ESI
   685 000005E5 5F                              	POP	EDI
   686 000005E6 5D                              	POP	EBP
   687 000005E7 E9 000000B8                     	JMP	_cmd_dir
   688 000005EC                                 L124:
   689 000005EC 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   690 000005EF 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   691 000005F2 5B                              	POP	EBX
   692 000005F3 5E                              	POP	ESI
   693 000005F4 5F                              	POP	EDI
   694 000005F5 5D                              	POP	EBP
   695 000005F6 EB 53                           	JMP	_cmd_cls
   696 000005F8                                 L123:
   697 000005F8 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   698 000005FB 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   699 000005FE 89 45 0C                        	MOV	DWORD [12+EBP],EAX
   700 00000601 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   701 00000604 5B                              	POP	EBX
   702 00000605 5E                              	POP	ESI
   703 00000606 5F                              	POP	EDI
   704 00000607 5D                              	POP	EBP
   705 00000608 EB 00                           	JMP	_cmd_mem
   706                                          [SECTION .data]
   707 00000035                                 LC9:
   708 00000035 74 6F 74 61 6C 20 20 20 25 64   	DB	"total   %dMB",0x0A,"free %dKB",0x0A,0x0A,0x00
       0000003F 4D 42 0A 66 72 65 65 20 25 64 
       00000049 4B 42 0A 0A 00 
   709                                          [SECTION .text]
   710 0000060A                                 	GLOBAL	_cmd_mem
   711 0000060A                                 _cmd_mem:
   712 0000060A 55                              	PUSH	EBP
   713 0000060B 89 E5                           	MOV	EBP,ESP
   714 0000060D 53                              	PUSH	EBX
   715 0000060E 83 EC 40                        	SUB	ESP,64
   716 00000611 68 003C0000                     	PUSH	3932160
   717 00000616 E8 [00000000]                   	CALL	_memman_total
   718 0000061B BA 00100000                     	MOV	EDX,1048576
   719 00000620 C1 E8 0A                        	SHR	EAX,10
   720 00000623 89 D3                           	MOV	EBX,EDX
   721 00000625 89 04 24                        	MOV	DWORD [ESP],EAX
   722 00000628 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   723 0000062B 99                              	CDQ
   724 0000062C F7 FB                           	IDIV	EBX
   725 0000062E 50                              	PUSH	EAX
   726 0000062F 8D 5D BC                        	LEA	EBX,DWORD [-68+EBP]
   727 00000632 68 [00000035]                   	PUSH	LC9
   728 00000637 53                              	PUSH	EBX
   729 00000638 E8 [00000000]                   	CALL	_sprintf
   730 0000063D 53                              	PUSH	EBX
   731 0000063E FF 75 08                        	PUSH	DWORD [8+EBP]
   732 00000641 E8 FFFFFDC7                     	CALL	_cons_putstr0
   733 00000646 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
   734 00000649 C9                              	LEAVE
   735 0000064A C3                              	RET
   736 0000064B                                 	GLOBAL	_cmd_cls
   737 0000064B                                 _cmd_cls:
   738 0000064B 55                              	PUSH	EBP
   739 0000064C 89 E5                           	MOV	EBP,ESP
   740 0000064E 57                              	PUSH	EDI
   741 0000064F 56                              	PUSH	ESI
   742 00000650 BE 0000001C                     	MOV	ESI,28
   743 00000655 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   744 00000658 53                              	PUSH	EBX
   745 00000659 8B 1F                           	MOV	EBX,DWORD [EDI]
   746 0000065B                                 L142:
   747 0000065B B9 00000008                     	MOV	ECX,8
   748 00000660                                 L141:
   749 00000660 89 F0                           	MOV	EAX,ESI
   750 00000662 8B 13                           	MOV	EDX,DWORD [EBX]
   751 00000664 0F AF 43 04                     	IMUL	EAX,DWORD [4+EBX]
   752 00000668 8D 04 08                        	LEA	EAX,DWORD [EAX+ECX*1]
   753 0000066B 41                              	INC	ECX
   754 0000066C 81 F9 000000F7                  	CMP	ECX,247
   755 00000672 C6 04 10 00                     	MOV	BYTE [EAX+EDX*1],0
   756 00000676 7E E8                           	JLE	L141
   757 00000678 46                              	INC	ESI
   758 00000679 81 FE 0000009B                  	CMP	ESI,155
   759 0000067F 7E DA                           	JLE	L142
   760 00000681 68 0000009C                     	PUSH	156
   761 00000686 68 000000F8                     	PUSH	248
   762 0000068B 6A 1C                           	PUSH	28
   763 0000068D 6A 08                           	PUSH	8
   764 0000068F 53                              	PUSH	EBX
   765 00000690 E8 [00000000]                   	CALL	_sheet_refresh
   766 00000695 C7 47 08 0000001C               	MOV	DWORD [8+EDI],28
   767 0000069C 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   768 0000069F 5B                              	POP	EBX
   769 000006A0 5E                              	POP	ESI
   770 000006A1 5F                              	POP	EDI
   771 000006A2 5D                              	POP	EBP
   772 000006A3 C3                              	RET
   773                                          [SECTION .data]
   774 0000004E                                 LC10:
   775 0000004E 66 69 6C 65 6E 61 6D 65 2E 65   	DB	"filename.ext   %7d",0x0A,0x00
       00000058 78 74 20 20 20 25 37 64 0A 00 
   776                                          [SECTION .text]
   777 000006A4                                 	GLOBAL	_cmd_dir
   778 000006A4                                 _cmd_dir:
   779 000006A4 55                              	PUSH	EBP
   780 000006A5 89 E5                           	MOV	EBP,ESP
   781 000006A7 57                              	PUSH	EDI
   782 000006A8 56                              	PUSH	ESI
   783 000006A9 31 F6                           	XOR	ESI,ESI
   784 000006AB 53                              	PUSH	EBX
   785 000006AC 31 DB                           	XOR	EBX,EBX
   786 000006AE 83 EC 20                        	SUB	ESP,32
   787 000006B1 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   788 000006B4                                 L160:
   789 000006B4 8A 83 00102600                  	MOV	AL,BYTE [1058304+EBX]
   790 000006BA 84 C0                           	TEST	AL,AL
   791 000006BC 74 19                           	JE	L149
   792 000006BE 3C E5                           	CMP	AL,-27
   793 000006C0 74 09                           	JE	L150
   794 000006C2 F6 83 0010260B 18               	TEST	BYTE [1058315+EBX],24
   795 000006C9 74 1A                           	JE	L164
   796 000006CB                                 L150:
   797 000006CB 46                              	INC	ESI
   798 000006CC 83 C3 20                        	ADD	EBX,32
   799 000006CF 81 FE 000000DF                  	CMP	ESI,223
   800 000006D5 7E DD                           	JLE	L160
   801 000006D7                                 L149:
   802 000006D7 57                              	PUSH	EDI
   803 000006D8 E8 FFFFFC6F                     	CALL	_cons_newline
   804 000006DD 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   805 000006E0 5B                              	POP	EBX
   806 000006E1 5E                              	POP	ESI
   807 000006E2 5F                              	POP	EDI
   808 000006E3 5D                              	POP	EBP
   809 000006E4 C3                              	RET
   810 000006E5                                 L164:
   811 000006E5 FF B3 0010261C                  	PUSH	DWORD [1058332+EBX]
   812 000006EB 68 [0000004E]                   	PUSH	LC10
   813 000006F0 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   814 000006F3 50                              	PUSH	EAX
   815 000006F4 E8 [00000000]                   	CALL	_sprintf
   816 000006F9 8D 93 00102600                  	LEA	EDX,DWORD [1058304+EBX]
   817 000006FF 31 C9                           	XOR	ECX,ECX
   818 00000701 83 C4 0C                        	ADD	ESP,12
   819 00000704                                 L159:
   820 00000704 8A 02                           	MOV	AL,BYTE [EDX]
   821 00000706 42                              	INC	EDX
   822 00000707 88 44 0D D4                     	MOV	BYTE [-44+EBP+ECX*1],AL
   823 0000070B 41                              	INC	ECX
   824 0000070C 83 F9 07                        	CMP	ECX,7
   825 0000070F 7E F3                           	JLE	L159
   826 00000711 8A 83 00102608                  	MOV	AL,BYTE [1058312+EBX]
   827 00000717 88 45 DD                        	MOV	BYTE [-35+EBP],AL
   828 0000071A 8A 83 00102609                  	MOV	AL,BYTE [1058313+EBX]
   829 00000720 88 45 DE                        	MOV	BYTE [-34+EBP],AL
   830 00000723 8A 83 0010260A                  	MOV	AL,BYTE [1058314+EBX]
   831 00000729 88 45 DF                        	MOV	BYTE [-33+EBP],AL
   832 0000072C 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   833 0000072F 50                              	PUSH	EAX
   834 00000730 57                              	PUSH	EDI
   835 00000731 E8 FFFFFCD7                     	CALL	_cons_putstr0
   836 00000736 58                              	POP	EAX
   837 00000737 5A                              	POP	EDX
   838 00000738 EB 91                           	JMP	L150
   839                                          [SECTION .data]
   840 00000062                                 LC11:
   841 00000062 46 69 6C 65 20 6E 6F 74 20 66   	DB	"File not found.",0x0A,0x00
       0000006C 6F 75 6E 64 2E 0A 00 
   842                                          [SECTION .text]
   843 0000073A                                 	GLOBAL	_cmd_type
   844 0000073A                                 _cmd_type:
   845 0000073A 55                              	PUSH	EBP
   846 0000073B 89 E5                           	MOV	EBP,ESP
   847 0000073D 57                              	PUSH	EDI
   848 0000073E 56                              	PUSH	ESI
   849 0000073F 53                              	PUSH	EBX
   850 00000740 56                              	PUSH	ESI
   851 00000741 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   852 00000744 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   853 00000747 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   854 0000074A 68 000000E0                     	PUSH	224
   855 0000074F 68 00102600                     	PUSH	1058304
   856 00000754 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   857 00000757 83 C0 05                        	ADD	EAX,5
   858 0000075A 50                              	PUSH	EAX
   859 0000075B E8 [00000000]                   	CALL	_file_search
   860 00000760 83 C4 0C                        	ADD	ESP,12
   861 00000763 89 C6                           	MOV	ESI,EAX
   862 00000765 85 C0                           	TEST	EAX,EAX
   863 00000767 74 52                           	JE	L166
   864 00000769 FF 70 1C                        	PUSH	DWORD [28+EAX]
   865 0000076C 68 003C0000                     	PUSH	3932160
   866 00000771 E8 [00000000]                   	CALL	_memman_alloc_4k
   867 00000776 68 00103E00                     	PUSH	1064448
   868 0000077B FF 75 F0                        	PUSH	DWORD [-16+EBP]
   869 0000077E 50                              	PUSH	EAX
   870 0000077F 89 C3                           	MOV	EBX,EAX
   871 00000781 FF 76 1C                        	PUSH	DWORD [28+ESI]
   872 00000784 0F B7 46 1A                     	MOVZX	EAX,WORD [26+ESI]
   873 00000788 50                              	PUSH	EAX
   874 00000789 E8 [00000000]                   	CALL	_file_loadfile
   875 0000078E FF 76 1C                        	PUSH	DWORD [28+ESI]
   876 00000791 53                              	PUSH	EBX
   877 00000792 57                              	PUSH	EDI
   878 00000793 E8 FFFFFCA3                     	CALL	_cons_putstr1
   879 00000798 83 C4 28                        	ADD	ESP,40
   880 0000079B FF 76 1C                        	PUSH	DWORD [28+ESI]
   881 0000079E 53                              	PUSH	EBX
   882 0000079F 68 003C0000                     	PUSH	3932160
   883 000007A4 E8 [00000000]                   	CALL	_memman_free_4k
   884 000007A9 83 C4 0C                        	ADD	ESP,12
   885 000007AC                                 L167:
   886 000007AC 89 7D 08                        	MOV	DWORD [8+EBP],EDI
   887 000007AF 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   888 000007B2 5B                              	POP	EBX
   889 000007B3 5E                              	POP	ESI
   890 000007B4 5F                              	POP	EDI
   891 000007B5 5D                              	POP	EBP
   892 000007B6 E9 FFFFFB91                     	JMP	_cons_newline
   893 000007BB                                 L166:
   894 000007BB 68 [00000062]                   	PUSH	LC11
   895 000007C0 57                              	PUSH	EDI
   896 000007C1 E8 FFFFFC47                     	CALL	_cons_putstr0
   897 000007C6 59                              	POP	ECX
   898 000007C7 5B                              	POP	EBX
   899 000007C8 EB E2                           	JMP	L167
   900 000007CA                                 	GLOBAL	_cmd_exit
   901 000007CA                                 _cmd_exit:
   902 000007CA 55                              	PUSH	EBP
   903 000007CB 89 E5                           	MOV	EBP,ESP
   904 000007CD 57                              	PUSH	EDI
   905 000007CE 56                              	PUSH	ESI
   906 000007CF 53                              	PUSH	EBX
   907 000007D0 53                              	PUSH	EBX
   908 000007D1 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   909 000007D4 E8 [00000000]                   	CALL	_task_now
   910 000007D9 8B 35 00000FE4                  	MOV	ESI,DWORD [4068]
   911 000007DF 8B 3D 00000FEC                  	MOV	EDI,DWORD [4076]
   912 000007E5 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   913 000007E8 83 3B 00                        	CMP	DWORD [EBX],0
   914 000007EB 74 09                           	JE	L169
   915 000007ED FF 73 10                        	PUSH	DWORD [16+EBX]
   916 000007F0 E8 [00000000]                   	CALL	_timer_cancel
   917 000007F5 59                              	POP	ECX
   918 000007F6                                 L169:
   919 000007F6 68 00002D00                     	PUSH	11520
   920 000007FB FF 75 0C                        	PUSH	DWORD [12+EBP]
   921 000007FE 68 003C0000                     	PUSH	3932160
   922 00000803 E8 [00000000]                   	CALL	_memman_free_4k
   923 00000808 E8 [00000000]                   	CALL	_io_cli
   924 0000080D 8B 03                           	MOV	EAX,DWORD [EBX]
   925 0000080F 83 C4 0C                        	ADD	ESP,12
   926 00000812 85 C0                           	TEST	EAX,EAX
   927 00000814 74 2E                           	JE	L170
   928 00000816 29 F0                           	SUB	EAX,ESI
   929 00000818 2D 00000414                     	SUB	EAX,1044
   930 0000081D C1 F8 03                        	SAR	EAX,3
   931 00000820 69 C0 CCCCCCCD                  	IMUL	EAX,EAX,-858993459
   932 00000826 05 00000300                     	ADD	EAX,768
   933 0000082B                                 L175:
   934 0000082B 50                              	PUSH	EAX
   935 0000082C 57                              	PUSH	EDI
   936 0000082D E8 [00000000]                   	CALL	_fifo32_put
   937 00000832 58                              	POP	EAX
   938 00000833 5A                              	POP	EDX
   939 00000834 E8 [00000000]                   	CALL	_io_sti
   940 00000839                                 L172:
   941 00000839 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   942 0000083C E8 [00000000]                   	CALL	_task_sleep
   943 00000841 5F                              	POP	EDI
   944 00000842 EB F5                           	JMP	L172
   945 00000844                                 L170:
   946 00000844 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   947 00000847 2B 05 [00000000]                	SUB	EAX,DWORD [_taskctl]
   948 0000084D 2D 00000FF8                     	SUB	EAX,4088
   949 00000852 C1 F8 05                        	SAR	EAX,5
   950 00000855 69 C0 CCCCCCCD                  	IMUL	EAX,EAX,-858993459
   951 0000085B 05 00000400                     	ADD	EAX,1024
   952 00000860 EB C9                           	JMP	L175
   953 00000862                                 	GLOBAL	_cmd_start
   954 00000862                                 _cmd_start:
   955 00000862 55                              	PUSH	EBP
   956 00000863 89 E5                           	MOV	EBP,ESP
   957 00000865 57                              	PUSH	EDI
   958 00000866 56                              	PUSH	ESI
   959 00000867 53                              	PUSH	EBX
   960 00000868 51                              	PUSH	ECX
   961 00000869 51                              	PUSH	ECX
   962 0000086A 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   963 0000086D 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   964 00000870 8B 35 00000FE4                  	MOV	ESI,DWORD [4068]
   965 00000876 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   966 00000879 FF 75 10                        	PUSH	DWORD [16+EBP]
   967 0000087C 56                              	PUSH	ESI
   968 0000087D E8 [00000000]                   	CALL	_open_console
   969 00000882 89 C3                           	MOV	EBX,EAX
   970 00000884 8B 40 24                        	MOV	EAX,DWORD [36+EAX]
   971 00000887 83 C0 10                        	ADD	EAX,16
   972 0000088A 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   973 0000088D 6A 04                           	PUSH	4
   974 0000088F 6A 20                           	PUSH	32
   975 00000891 53                              	PUSH	EBX
   976 00000892 E8 [00000000]                   	CALL	_sheet_slide
   977 00000897 FF 76 10                        	PUSH	DWORD [16+ESI]
   978 0000089A 53                              	PUSH	EBX
   979 0000089B BB 00000006                     	MOV	EBX,6
   980 000008A0 E8 [00000000]                   	CALL	_sheet_updown
   981 000008A5 83 C4 1C                        	ADD	ESP,28
   982 000008A8 80 7F 06 00                     	CMP	BYTE [6+EDI],0
   983 000008AC 75 21                           	JNE	L181
   984 000008AE                                 L183:
   985 000008AE 68 0000010A                     	PUSH	266
   986 000008B3 FF 75 EC                        	PUSH	DWORD [-20+EBP]
   987 000008B6 E8 [00000000]                   	CALL	_fifo32_put
   988 000008BB 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   989 000008BE 5E                              	POP	ESI
   990 000008BF 5F                              	POP	EDI
   991 000008C0 89 45 08                        	MOV	DWORD [8+EBP],EAX
   992 000008C3 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   993 000008C6 5B                              	POP	EBX
   994 000008C7 5E                              	POP	ESI
   995 000008C8 5F                              	POP	EDI
   996 000008C9 5D                              	POP	EBP
   997 000008CA E9 FFFFFA7D                     	JMP	_cons_newline
   998 000008CF                                 L181:
   999 000008CF 0F BE 04 3B                     	MOVSX	EAX,BYTE [EBX+EDI*1]
  1000 000008D3 05 00000100                     	ADD	EAX,256
  1001 000008D8 43                              	INC	EBX
  1002 000008D9 50                              	PUSH	EAX
  1003 000008DA FF 75 EC                        	PUSH	DWORD [-20+EBP]
  1004 000008DD E8 [00000000]                   	CALL	_fifo32_put
  1005 000008E2 80 3C 3B 00                     	CMP	BYTE [EBX+EDI*1],0
  1006 000008E6 58                              	POP	EAX
  1007 000008E7 5A                              	POP	EDX
  1008 000008E8 75 E5                           	JNE	L181
  1009 000008EA EB C2                           	JMP	L183
  1010 000008EC                                 	GLOBAL	_cmd_ncst
  1011 000008EC                                 _cmd_ncst:
  1012 000008EC 55                              	PUSH	EBP
  1013 000008ED 89 E5                           	MOV	EBP,ESP
  1014 000008EF 57                              	PUSH	EDI
  1015 000008F0 56                              	PUSH	ESI
  1016 000008F1 BE 00000005                     	MOV	ESI,5
  1017 000008F6 53                              	PUSH	EBX
  1018 000008F7 50                              	PUSH	EAX
  1019 000008F8 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1020 000008FB 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
  1021 000008FE 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
  1022 00000901 FF 75 10                        	PUSH	DWORD [16+EBP]
  1023 00000904 6A 00                           	PUSH	0
  1024 00000906 E8 [00000000]                   	CALL	_open_constask
  1025 0000090B 59                              	POP	ECX
  1026 0000090C 80 7B 05 00                     	CMP	BYTE [5+EBX],0
  1027 00000910 8D 78 10                        	LEA	EDI,DWORD [16+EAX]
  1028 00000913 58                              	POP	EAX
  1029 00000914 75 1F                           	JNE	L189
  1030 00000916                                 L191:
  1031 00000916 68 0000010A                     	PUSH	266
  1032 0000091B 57                              	PUSH	EDI
  1033 0000091C E8 [00000000]                   	CALL	_fifo32_put
  1034 00000921 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
  1035 00000924 5B                              	POP	EBX
  1036 00000925 5E                              	POP	ESI
  1037 00000926 89 45 08                        	MOV	DWORD [8+EBP],EAX
  1038 00000929 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1039 0000092C 5B                              	POP	EBX
  1040 0000092D 5E                              	POP	ESI
  1041 0000092E 5F                              	POP	EDI
  1042 0000092F 5D                              	POP	EBP
  1043 00000930 E9 FFFFFA17                     	JMP	_cons_newline
  1044 00000935                                 L189:
  1045 00000935 0F BE 04 1E                     	MOVSX	EAX,BYTE [ESI+EBX*1]
  1046 00000939 05 00000100                     	ADD	EAX,256
  1047 0000093E 46                              	INC	ESI
  1048 0000093F 50                              	PUSH	EAX
  1049 00000940 57                              	PUSH	EDI
  1050 00000941 E8 [00000000]                   	CALL	_fifo32_put
  1051 00000946 80 3C 1E 00                     	CMP	BYTE [ESI+EBX*1],0
  1052 0000094A 58                              	POP	EAX
  1053 0000094B 5A                              	POP	EDX
  1054 0000094C 75 E7                           	JNE	L189
  1055 0000094E EB C6                           	JMP	L191
  1056                                          [SECTION .data]
  1057 00000073                                 LC12:
  1058 00000073 48 61 72 69 00                  	DB	"Hari",0x00
  1059 00000078                                 LC13:
  1060 00000078 2E 68 72 62 20 66 69 6C 65 20   	DB	".hrb file format error.",0x0A,0x00
       00000082 66 6F 72 6D 61 74 20 65 72 72 
       0000008C 6F 72 2E 0A 00 
  1061                                          [SECTION .text]
  1062 00000950                                 	GLOBAL	_cmd_app
  1063 00000950                                 _cmd_app:
  1064 00000950 55                              	PUSH	EBP
  1065 00000951 89 E5                           	MOV	EBP,ESP
  1066 00000953 57                              	PUSH	EDI
  1067 00000954 56                              	PUSH	ESI
  1068 00000955 53                              	PUSH	EBX
  1069 00000956 31 DB                           	XOR	EBX,EBX
  1070 00000958 83 EC 3C                        	SUB	ESP,60
  1071 0000095B 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
  1072 0000095E E8 [00000000]                   	CALL	_task_now
  1073 00000963 89 45 C8                        	MOV	DWORD [-56+EBP],EAX
  1074 00000966                                 L198:
  1075 00000966 8A 04 33                        	MOV	AL,BYTE [EBX+ESI*1]
  1076 00000969 3C 20                           	CMP	AL,32
  1077 0000096B 7E 0A                           	JLE	L194
  1078 0000096D 88 44 1D D4                     	MOV	BYTE [-44+EBP+EBX*1],AL
  1079 00000971 43                              	INC	EBX
  1080 00000972 83 FB 0C                        	CMP	EBX,12
  1081 00000975 7E EF                           	JLE	L198
  1082 00000977                                 L194:
  1083 00000977 68 000000E0                     	PUSH	224
  1084 0000097C 8D 75 D4                        	LEA	ESI,DWORD [-44+EBP]
  1085 0000097F 68 00102600                     	PUSH	1058304
  1086 00000984 56                              	PUSH	ESI
  1087 00000985 C6 44 1D D4 00                  	MOV	BYTE [-44+EBP+EBX*1],0
  1088 0000098A E8 [00000000]                   	CALL	_file_search
  1089 0000098F 83 C4 0C                        	ADD	ESP,12
  1090 00000992 85 C0                           	TEST	EAX,EAX
  1091 00000994 89 45 D0                        	MOV	DWORD [-48+EBP],EAX
  1092 00000997 0F 84 0000019E                  	JE	L220
  1093 0000099D                                 L219:
  1094 0000099D 8B 45 D0                        	MOV	EAX,DWORD [-48+EBP]
  1095 000009A0 FF 70 1C                        	PUSH	DWORD [28+EAX]
  1096 000009A3 68 003C0000                     	PUSH	3932160
  1097 000009A8 E8 [00000000]                   	CALL	_memman_alloc_4k
  1098 000009AD 8B 55 D0                        	MOV	EDX,DWORD [-48+EBP]
  1099 000009B0 68 00103E00                     	PUSH	1064448
  1100 000009B5 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1101 000009B8 50                              	PUSH	EAX
  1102 000009B9 89 45 B8                        	MOV	DWORD [-72+EBP],EAX
  1103 000009BC FF 72 1C                        	PUSH	DWORD [28+EDX]
  1104 000009BF 0F B7 42 1A                     	MOVZX	EAX,WORD [26+EDX]
  1105 000009C3 50                              	PUSH	EAX
  1106 000009C4 E8 [00000000]                   	CALL	_file_loadfile
  1107 000009C9 8B 7D D0                        	MOV	EDI,DWORD [-48+EBP]
  1108 000009CC 83 C4 1C                        	ADD	ESP,28
  1109 000009CF 83 7F 1C 23                     	CMP	DWORD [28+EDI],35
  1110 000009D3 76 1F                           	JBE	L201
  1111 000009D5 8B 75 B8                        	MOV	ESI,DWORD [-72+EBP]
  1112 000009D8 B8 [00000073]                   	MOV	EAX,LC12
  1113 000009DD FC                              	CLD
  1114 000009DE 83 C6 04                        	ADD	ESI,4
  1115 000009E1 B9 00000004                     	MOV	ECX,4
  1116 000009E6 89 C7                           	MOV	EDI,EAX
  1117 000009E8 F3                              	REPE
  1118 000009E9 A6                              	CMPSB
  1119 000009EA 75 08                           	JNE	L201
  1120 000009EC 8B 45 B8                        	MOV	EAX,DWORD [-72+EBP]
  1121 000009EF 80 38 00                        	CMP	BYTE [EAX],0
  1122 000009F2 74 37                           	JE	L221
  1123 000009F4                                 L201:
  1124 000009F4 68 [00000078]                   	PUSH	LC13
  1125 000009F9 FF 75 08                        	PUSH	DWORD [8+EBP]
  1126 000009FC E8 FFFFFA0C                     	CALL	_cons_putstr0
  1127 00000A01 58                              	POP	EAX
  1128 00000A02 5A                              	POP	EDX
  1129 00000A03                                 L213:
  1130 00000A03 8B 55 D0                        	MOV	EDX,DWORD [-48+EBP]
  1131 00000A06 FF 72 1C                        	PUSH	DWORD [28+EDX]
  1132 00000A09 FF 75 B8                        	PUSH	DWORD [-72+EBP]
  1133 00000A0C 68 003C0000                     	PUSH	3932160
  1134 00000A11 E8 [00000000]                   	CALL	_memman_free_4k
  1135 00000A16 FF 75 08                        	PUSH	DWORD [8+EBP]
  1136 00000A19 E8 FFFFF92E                     	CALL	_cons_newline
  1137 00000A1E B8 00000001                     	MOV	EAX,1
  1138 00000A23                                 L192:
  1139 00000A23 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1140 00000A26 5B                              	POP	EBX
  1141 00000A27 5E                              	POP	ESI
  1142 00000A28 5F                              	POP	EDI
  1143 00000A29 5D                              	POP	EBP
  1144 00000A2A C3                              	RET
  1145 00000A2B                                 L221:
  1146 00000A2B 8B 10                           	MOV	EDX,DWORD [EAX]
  1147 00000A2D 8B 78 0C                        	MOV	EDI,DWORD [12+EAX]
  1148 00000A30 8B 70 10                        	MOV	ESI,DWORD [16+EAX]
  1149 00000A33 89 55 C4                        	MOV	DWORD [-60+EBP],EDX
  1150 00000A36 8B 40 14                        	MOV	EAX,DWORD [20+EAX]
  1151 00000A39 89 7D C0                        	MOV	DWORD [-64+EBP],EDI
  1152 00000A3C 52                              	PUSH	EDX
  1153 00000A3D 89 45 BC                        	MOV	DWORD [-68+EBP],EAX
  1154 00000A40 68 003C0000                     	PUSH	3932160
  1155 00000A45 BB 00000008                     	MOV	EBX,8
  1156 00000A4A E8 [00000000]                   	CALL	_memman_alloc_4k
  1157 00000A4F 8B 7D D0                        	MOV	EDI,DWORD [-48+EBP]
  1158 00000A52 8B 55 C8                        	MOV	EDX,DWORD [-56+EBP]
  1159 00000A55 89 45 CC                        	MOV	DWORD [-52+EBP],EAX
  1160 00000A58 89 82 00000098                  	MOV	DWORD [152+EDX],EAX
  1161 00000A5E 68 000040FA                     	PUSH	16634
  1162 00000A63 FF 75 B8                        	PUSH	DWORD [-72+EBP]
  1163 00000A66 8B 47 1C                        	MOV	EAX,DWORD [28+EDI]
  1164 00000A69 48                              	DEC	EAX
  1165 00000A6A 50                              	PUSH	EAX
  1166 00000A6B 8B 02                           	MOV	EAX,DWORD [EDX]
  1167 00000A6D 99                              	CDQ
  1168 00000A6E F7 FB                           	IDIV	EBX
  1169 00000A70 8D 04 C5 00271F40               	LEA	EAX,DWORD [2563904+EAX*8]
  1170 00000A77 50                              	PUSH	EAX
  1171 00000A78 E8 [00000000]                   	CALL	_set_segmdesc
  1172 00000A7D 8B 55 C8                        	MOV	EDX,DWORD [-56+EBP]
  1173 00000A80 68 000040F2                     	PUSH	16626
  1174 00000A85 8B 45 C4                        	MOV	EAX,DWORD [-60+EBP]
  1175 00000A88 FF 75 CC                        	PUSH	DWORD [-52+EBP]
  1176 00000A8B 48                              	DEC	EAX
  1177 00000A8C 50                              	PUSH	EAX
  1178 00000A8D 8B 02                           	MOV	EAX,DWORD [EDX]
  1179 00000A8F 99                              	CDQ
  1180 00000A90 F7 FB                           	IDIV	EBX
  1181 00000A92 8D 04 C5 00273E80               	LEA	EAX,DWORD [2571904+EAX*8]
  1182 00000A99 50                              	PUSH	EAX
  1183 00000A9A E8 [00000000]                   	CALL	_set_segmdesc
  1184 00000A9F 83 C4 28                        	ADD	ESP,40
  1185 00000AA2 85 F6                           	TEST	ESI,ESI
  1186 00000AA4 7E 17                           	JLE	L216
  1187 00000AA6 8B 4D C0                        	MOV	ECX,DWORD [-64+EBP]
  1188 00000AA9 8B 55 BC                        	MOV	EDX,DWORD [-68+EBP]
  1189 00000AAC 03 4D CC                        	ADD	ECX,DWORD [-52+EBP]
  1190 00000AAF 03 55 B8                        	ADD	EDX,DWORD [-72+EBP]
  1191 00000AB2 89 F3                           	MOV	EBX,ESI
  1192 00000AB4                                 L206:
  1193 00000AB4 8A 02                           	MOV	AL,BYTE [EDX]
  1194 00000AB6 42                              	INC	EDX
  1195 00000AB7 88 01                           	MOV	BYTE [ECX],AL
  1196 00000AB9 41                              	INC	ECX
  1197 00000ABA 4B                              	DEC	EBX
  1198 00000ABB 75 F7                           	JNE	L206
  1199 00000ABD                                 L216:
  1200 00000ABD 8B 45 C8                        	MOV	EAX,DWORD [-56+EBP]
  1201 00000AC0 8B 7D C8                        	MOV	EDI,DWORD [-56+EBP]
  1202 00000AC3 83 C0 30                        	ADD	EAX,48
  1203 00000AC6 BB 000000FF                     	MOV	EBX,255
  1204 00000ACB 50                              	PUSH	EAX
  1205 00000ACC 8B 07                           	MOV	EAX,DWORD [EDI]
  1206 00000ACE 05 00003E80                     	ADD	EAX,16000
  1207 00000AD3 50                              	PUSH	EAX
  1208 00000AD4 FF 75 C0                        	PUSH	DWORD [-64+EBP]
  1209 00000AD7 8B 07                           	MOV	EAX,DWORD [EDI]
  1210 00000AD9 05 00001F40                     	ADD	EAX,8000
  1211 00000ADE 50                              	PUSH	EAX
  1212 00000ADF 6A 1B                           	PUSH	27
  1213 00000AE1 E8 [00000000]                   	CALL	_start_app
  1214 00000AE6 8B 35 00000FE4                  	MOV	ESI,DWORD [4068]
  1215 00000AEC 83 C4 14                        	ADD	ESP,20
  1216 00000AEF 81 C6 00000414                  	ADD	ESI,1044
  1217 00000AF5                                 L212:
  1218 00000AF5 8B 46 1C                        	MOV	EAX,DWORD [28+ESI]
  1219 00000AF8 83 E0 11                        	AND	EAX,17
  1220 00000AFB 83 F8 11                        	CMP	EAX,17
  1221 00000AFE 74 2A                           	JE	L222
  1222 00000B00                                 L209:
  1223 00000B00 83 C6 28                        	ADD	ESI,40
  1224 00000B03 4B                              	DEC	EBX
  1225 00000B04 79 EF                           	JNS	L212
  1226 00000B06 8B 45 C8                        	MOV	EAX,DWORD [-56+EBP]
  1227 00000B09 83 C0 10                        	ADD	EAX,16
  1228 00000B0C 50                              	PUSH	EAX
  1229 00000B0D E8 [00000000]                   	CALL	_timer_cancelall
  1230 00000B12 FF 75 C4                        	PUSH	DWORD [-60+EBP]
  1231 00000B15 FF 75 CC                        	PUSH	DWORD [-52+EBP]
  1232 00000B18 68 003C0000                     	PUSH	3932160
  1233 00000B1D E8 [00000000]                   	CALL	_memman_free_4k
  1234 00000B22 83 C4 10                        	ADD	ESP,16
  1235 00000B25 E9 FFFFFED9                     	JMP	L213
  1236 00000B2A                                 L222:
  1237 00000B2A 8B 45 C8                        	MOV	EAX,DWORD [-56+EBP]
  1238 00000B2D 39 46 24                        	CMP	DWORD [36+ESI],EAX
  1239 00000B30 75 CE                           	JNE	L209
  1240 00000B32 56                              	PUSH	ESI
  1241 00000B33 E8 [00000000]                   	CALL	_sheet_free
  1242 00000B38 59                              	POP	ECX
  1243 00000B39 EB C5                           	JMP	L209
  1244 00000B3B                                 L220:
  1245 00000B3B 80 7C 1D D3 2E                  	CMP	BYTE [-45+EBP+EBX*1],46
  1246 00000B40 74 2F                           	JE	L199
  1247 00000B42 68 000000E0                     	PUSH	224
  1248 00000B47 68 00102600                     	PUSH	1058304
  1249 00000B4C 56                              	PUSH	ESI
  1250 00000B4D C6 44 1D D4 2E                  	MOV	BYTE [-44+EBP+EBX*1],46
  1251 00000B52 C6 44 1D D5 48                  	MOV	BYTE [-43+EBP+EBX*1],72
  1252 00000B57 C6 44 1D D6 52                  	MOV	BYTE [-42+EBP+EBX*1],82
  1253 00000B5C C6 44 1D D7 42                  	MOV	BYTE [-41+EBP+EBX*1],66
  1254 00000B61 C6 44 1D D8 00                  	MOV	BYTE [-40+EBP+EBX*1],0
  1255 00000B66 E8 [00000000]                   	CALL	_file_search
  1256 00000B6B 83 C4 0C                        	ADD	ESP,12
  1257 00000B6E 89 45 D0                        	MOV	DWORD [-48+EBP],EAX
  1258 00000B71                                 L199:
  1259 00000B71 83 7D D0 00                     	CMP	DWORD [-48+EBP],0
  1260 00000B75 0F 85 FFFFFE22                  	JNE	L219
  1261 00000B7B 31 C0                           	XOR	EAX,EAX
  1262 00000B7D E9 FFFFFEA1                     	JMP	L192
  1263 00000B82                                 	GLOBAL	_hrb_api
  1264 00000B82                                 _hrb_api:
  1265 00000B82 55                              	PUSH	EBP
  1266 00000B83 89 E5                           	MOV	EBP,ESP
  1267 00000B85 57                              	PUSH	EDI
  1268 00000B86 56                              	PUSH	ESI
  1269 00000B87 53                              	PUSH	EBX
  1270 00000B88 83 EC 10                        	SUB	ESP,16
  1271 00000B8B 8B 5D 1C                        	MOV	EBX,DWORD [28+EBP]
  1272 00000B8E E8 [00000000]                   	CALL	_task_now
  1273 00000B93 8B 15 00000FE4                  	MOV	EDX,DWORD [4068]
  1274 00000B99 83 FB 01                        	CMP	EBX,1
  1275 00000B9C 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
  1276 00000B9F 8B B8 00000098                  	MOV	EDI,DWORD [152+EAX]
  1277 00000BA5 8B 80 00000094                  	MOV	EAX,DWORD [148+EAX]
  1278 00000BAB 89 55 E8                        	MOV	DWORD [-24+EBP],EDX
  1279 00000BAE 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
  1280 00000BB1 0F 84 0000042A                  	JE	L287
  1281 00000BB7 83 FB 02                        	CMP	EBX,2
  1282 00000BBA 0F 84 0000040E                  	JE	L288
  1283 00000BC0 83 FB 03                        	CMP	EBX,3
  1284 00000BC3 0F 84 000003EF                  	JE	L289
  1285 00000BC9 83 FB 04                        	CMP	EBX,4
  1286 00000BCC 0F 84 000003DB                  	JE	L290
  1287 00000BD2 83 FB 05                        	CMP	EBX,5
  1288 00000BD5 0F 84 00000356                  	JE	L291
  1289 00000BDB 83 FB 06                        	CMP	EBX,6
  1290 00000BDE 0F 84 00000302                  	JE	L292
  1291 00000BE4 83 FB 07                        	CMP	EBX,7
  1292 00000BE7 0F 84 000002D0                  	JE	L293
  1293 00000BED 83 FB 08                        	CMP	EBX,8
  1294 00000BF0 0F 84 000002A4                  	JE	L294
  1295 00000BF6 83 FB 09                        	CMP	EBX,9
  1296 00000BF9 0F 84 0000027E                  	JE	L295
  1297 00000BFF 83 FB 0A                        	CMP	EBX,10
  1298 00000C02 0F 84 00000258                  	JE	L296
  1299 00000C08 83 FB 0B                        	CMP	EBX,11
  1300 00000C0B 0F 84 00000218                  	JE	L297
  1301 00000C11 83 FB 0C                        	CMP	EBX,12
  1302 00000C14 0F 84 000001FE                  	JE	L298
  1303 00000C1A 83 FB 0D                        	CMP	EBX,13
  1304 00000C1D 0F 84 000001AC                  	JE	L299
  1305 00000C23 83 FB 0E                        	CMP	EBX,14
  1306 00000C26 0F 84 00000196                  	JE	L300
  1307 00000C2C 83 FB 0F                        	CMP	EBX,15
  1308 00000C2F 0F 84 000000E9                  	JE	L257
  1309 00000C35 83 FB 10                        	CMP	EBX,16
  1310 00000C38 0F 84 000000CF                  	JE	L301
  1311 00000C3E 83 FB 11                        	CMP	EBX,17
  1312 00000C41 0F 84 000000A9                  	JE	L302
  1313 00000C47 83 FB 12                        	CMP	EBX,18
  1314 00000C4A 0F 84 0000008E                  	JE	L303
  1315 00000C50 83 FB 13                        	CMP	EBX,19
  1316 00000C53 74 7B                           	JE	L304
  1317 00000C55 83 FB 14                        	CMP	EBX,20
  1318 00000C58 74 0A                           	JE	L305
  1319 00000C5A                                 L225:
  1320 00000C5A 31 C0                           	XOR	EAX,EAX
  1321 00000C5C                                 L223:
  1322 00000C5C 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1323 00000C5F 5B                              	POP	EBX
  1324 00000C60 5E                              	POP	ESI
  1325 00000C61 5F                              	POP	EDI
  1326 00000C62 5D                              	POP	EBP
  1327 00000C63 C3                              	RET
  1328 00000C64                                 L305:
  1329 00000C64 8B 55 24                        	MOV	EDX,DWORD [36+EBP]
  1330 00000C67 85 D2                           	TEST	EDX,EDX
  1331 00000C69 75 19                           	JNE	L277
  1332 00000C6B 6A 61                           	PUSH	97
  1333 00000C6D E8 [00000000]                   	CALL	_io_in8
  1334 00000C72 89 C3                           	MOV	EBX,EAX
  1335 00000C74 83 E3 0D                        	AND	EBX,13
  1336 00000C77 53                              	PUSH	EBX
  1337 00000C78 6A 61                           	PUSH	97
  1338 00000C7A E8 [00000000]                   	CALL	_io_out8
  1339 00000C7F                                 L279:
  1340 00000C7F 83 C4 0C                        	ADD	ESP,12
  1341 00000C82 EB D6                           	JMP	L225
  1342 00000C84                                 L277:
  1343 00000C84 B9 471E7B60                     	MOV	ECX,1193180000
  1344 00000C89 89 D6                           	MOV	ESI,EDX
  1345 00000C8B 89 C8                           	MOV	EAX,ECX
  1346 00000C8D 68 000000B6                     	PUSH	182
  1347 00000C92 99                              	CDQ
  1348 00000C93 F7 FE                           	IDIV	ESI
  1349 00000C95 6A 43                           	PUSH	67
  1350 00000C97 89 C3                           	MOV	EBX,EAX
  1351 00000C99 E8 [00000000]                   	CALL	_io_out8
  1352 00000C9E 0F B6 C3                        	MOVZX	EAX,BL
  1353 00000CA1 C1 FB 08                        	SAR	EBX,8
  1354 00000CA4 50                              	PUSH	EAX
  1355 00000CA5 6A 42                           	PUSH	66
  1356 00000CA7 E8 [00000000]                   	CALL	_io_out8
  1357 00000CAC 53                              	PUSH	EBX
  1358 00000CAD 6A 42                           	PUSH	66
  1359 00000CAF E8 [00000000]                   	CALL	_io_out8
  1360 00000CB4 6A 61                           	PUSH	97
  1361 00000CB6 E8 [00000000]                   	CALL	_io_in8
  1362 00000CBB 89 C3                           	MOV	EBX,EAX
  1363 00000CBD 83 CB 03                        	OR	EBX,3
  1364 00000CC0 83 E3 0F                        	AND	EBX,15
  1365 00000CC3 53                              	PUSH	EBX
  1366 00000CC4 6A 61                           	PUSH	97
  1367 00000CC6 E8 [00000000]                   	CALL	_io_out8
  1368 00000CCB 83 C4 24                        	ADD	ESP,36
  1369 00000CCE EB 8A                           	JMP	L225
  1370 00000CD0                                 L304:
  1371 00000CD0 FF 75 18                        	PUSH	DWORD [24+EBP]
  1372 00000CD3 E8 [00000000]                   	CALL	_timer_free
  1373 00000CD8                                 L280:
  1374 00000CD8 5B                              	POP	EBX
  1375 00000CD9 E9 FFFFFF7C                     	JMP	L225
  1376 00000CDE                                 L303:
  1377 00000CDE FF 75 24                        	PUSH	DWORD [36+EBP]
  1378 00000CE1 FF 75 18                        	PUSH	DWORD [24+EBP]
  1379 00000CE4 E8 [00000000]                   	CALL	_timer_settime
  1380 00000CE9                                 L282:
  1381 00000CE9 5E                              	POP	ESI
  1382 00000CEA 5F                              	POP	EDI
  1383 00000CEB E9 FFFFFF6A                     	JMP	L225
  1384 00000CF0                                 L302:
  1385 00000CF0 8B 45 24                        	MOV	EAX,DWORD [36+EBP]
  1386 00000CF3 05 00000100                     	ADD	EAX,256
  1387 00000CF8 50                              	PUSH	EAX
  1388 00000CF9 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
  1389 00000CFC 83 C0 10                        	ADD	EAX,16
  1390 00000CFF 50                              	PUSH	EAX
  1391 00000D00 FF 75 18                        	PUSH	DWORD [24+EBP]
  1392 00000D03 E8 [00000000]                   	CALL	_timer_init
  1393 00000D08 E9 FFFFFF72                     	JMP	L279
  1394 00000D0D                                 L301:
  1395 00000D0D E8 [00000000]                   	CALL	_timer_alloc
  1396 00000D12 89 45 44                        	MOV	DWORD [68+EBP],EAX
  1397 00000D15 C6 40 09 01                     	MOV	BYTE [9+EAX],1
  1398 00000D19 E9 FFFFFF3C                     	JMP	L225
  1399 00000D1E                                 L257:
  1400 00000D1E E8 [00000000]                   	CALL	_io_cli
  1401 00000D23 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
  1402 00000D26 83 C0 10                        	ADD	EAX,16
  1403 00000D29 50                              	PUSH	EAX
  1404 00000D2A E8 [00000000]                   	CALL	_fifo32_status
  1405 00000D2F 5A                              	POP	EDX
  1406 00000D30 85 C0                           	TEST	EAX,EAX
  1407 00000D32 75 0F                           	JNE	L260
  1408 00000D34 83 7D 24 00                     	CMP	DWORD [36+EBP],0
  1409 00000D38 74 77                           	JE	L261
  1410 00000D3A FF 75 F0                        	PUSH	DWORD [-16+EBP]
  1411 00000D3D E8 [00000000]                   	CALL	_task_sleep
  1412 00000D42 58                              	POP	EAX
  1413 00000D43                                 L260:
  1414 00000D43 8B 75 F0                        	MOV	ESI,DWORD [-16+EBP]
  1415 00000D46 83 C6 10                        	ADD	ESI,16
  1416 00000D49 56                              	PUSH	ESI
  1417 00000D4A E8 [00000000]                   	CALL	_fifo32_get
  1418 00000D4F 89 C3                           	MOV	EBX,EAX
  1419 00000D51 E8 [00000000]                   	CALL	_io_sti
  1420 00000D56 58                              	POP	EAX
  1421 00000D57 83 FB 01                        	CMP	EBX,1
  1422 00000D5A 7E 38                           	JLE	L306
  1423 00000D5C                                 L263:
  1424 00000D5C 83 FB 02                        	CMP	EBX,2
  1425 00000D5F 74 27                           	JE	L307
  1426 00000D61                                 L264:
  1427 00000D61 83 FB 03                        	CMP	EBX,3
  1428 00000D64 74 16                           	JE	L308
  1429 00000D66                                 L265:
  1430 00000D66 81 FB 000000FF                  	CMP	EBX,255
  1431 00000D6C 7E B0                           	JLE	L257
  1432 00000D6E 8D 83 FFFFFF00                  	LEA	EAX,DWORD [-256+EBX]
  1433 00000D74 89 45 44                        	MOV	DWORD [68+EBP],EAX
  1434 00000D77 E9 FFFFFEDE                     	JMP	L225
  1435 00000D7C                                 L308:
  1436 00000D7C 8B 55 EC                        	MOV	EDX,DWORD [-20+EBP]
  1437 00000D7F C7 42 0C FFFFFFFF               	MOV	DWORD [12+EDX],-1
  1438 00000D86 EB DE                           	JMP	L265
  1439 00000D88                                 L307:
  1440 00000D88 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
  1441 00000D8B C7 40 0C 00000007               	MOV	DWORD [12+EAX],7
  1442 00000D92 EB CD                           	JMP	L264
  1443 00000D94                                 L306:
  1444 00000D94 6A 01                           	PUSH	1
  1445 00000D96 56                              	PUSH	ESI
  1446 00000D97 8B 75 EC                        	MOV	ESI,DWORD [-20+EBP]
  1447 00000D9A FF 76 10                        	PUSH	DWORD [16+ESI]
  1448 00000D9D E8 [00000000]                   	CALL	_timer_init
  1449 00000DA2 6A 32                           	PUSH	50
  1450 00000DA4 FF 76 10                        	PUSH	DWORD [16+ESI]
  1451 00000DA7 E8 [00000000]                   	CALL	_timer_settime
  1452 00000DAC 83 C4 14                        	ADD	ESP,20
  1453 00000DAF EB AB                           	JMP	L263
  1454 00000DB1                                 L261:
  1455 00000DB1 E8 [00000000]                   	CALL	_io_sti
  1456 00000DB6 C7 45 44 FFFFFFFF               	MOV	DWORD [68+EBP],-1
  1457 00000DBD E9 FFFFFE98                     	JMP	L225
  1458 00000DC2                                 L300:
  1459 00000DC2 FF 75 18                        	PUSH	DWORD [24+EBP]
  1460 00000DC5 E8 [00000000]                   	CALL	_sheet_free
  1461 00000DCA E9 FFFFFF09                     	JMP	L280
  1462 00000DCF                                 L299:
  1463 00000DCF FF 75 10                        	PUSH	DWORD [16+EBP]
  1464 00000DD2 FF 75 08                        	PUSH	DWORD [8+EBP]
  1465 00000DD5 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1466 00000DD8 FF 75 20                        	PUSH	DWORD [32+EBP]
  1467 00000DDB 8B 75 18                        	MOV	ESI,DWORD [24+EBP]
  1468 00000DDE FF 75 24                        	PUSH	DWORD [36+EBP]
  1469 00000DE1 83 E6 FE                        	AND	ESI,-2
  1470 00000DE4 56                              	PUSH	ESI
  1471 00000DE5 E8 0000029D                     	CALL	_hrb_api_linewin
  1472 00000DEA 83 C4 18                        	ADD	ESP,24
  1473 00000DED                                 L286:
  1474 00000DED F7 45 18 00000001               	TEST	DWORD [24+EBP],1
  1475 00000DF4 0F 85 FFFFFE60                  	JNE	L225
  1476 00000DFA 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1477 00000DFD 40                              	INC	EAX
  1478 00000DFE 50                              	PUSH	EAX
  1479 00000DFF 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
  1480 00000E02 40                              	INC	EAX
  1481 00000E03 50                              	PUSH	EAX
  1482 00000E04 FF 75 20                        	PUSH	DWORD [32+EBP]
  1483 00000E07 FF 75 24                        	PUSH	DWORD [36+EBP]
  1484 00000E0A                                 L284:
  1485 00000E0A 56                              	PUSH	ESI
  1486 00000E0B                                 L281:
  1487 00000E0B E8 [00000000]                   	CALL	_sheet_refresh
  1488 00000E10                                 L283:
  1489 00000E10 83 C4 14                        	ADD	ESP,20
  1490 00000E13 E9 FFFFFE42                     	JMP	L225
  1491 00000E18                                 L298:
  1492 00000E18 FF 75 08                        	PUSH	DWORD [8+EBP]
  1493 00000E1B FF 75 0C                        	PUSH	DWORD [12+EBP]
  1494 00000E1E FF 75 20                        	PUSH	DWORD [32+EBP]
  1495 00000E21 FF 75 24                        	PUSH	DWORD [36+EBP]
  1496 00000E24 FF 75 18                        	PUSH	DWORD [24+EBP]
  1497 00000E27 EB E2                           	JMP	L281
  1498 00000E29                                 L297:
  1499 00000E29 8B 75 18                        	MOV	ESI,DWORD [24+EBP]
  1500 00000E2C 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1501 00000E2F 83 E6 FE                        	AND	ESI,-2
  1502 00000E32 8A 55 24                        	MOV	DL,BYTE [36+EBP]
  1503 00000E35 0F AF 46 04                     	IMUL	EAX,DWORD [4+ESI]
  1504 00000E39 03 45 0C                        	ADD	EAX,DWORD [12+EBP]
  1505 00000E3C 8B 0E                           	MOV	ECX,DWORD [ESI]
  1506 00000E3E 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
  1507 00000E41 F7 45 18 00000001               	TEST	DWORD [24+EBP],1
  1508 00000E48 0F 85 FFFFFE0C                  	JNE	L225
  1509 00000E4E 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1510 00000E51 40                              	INC	EAX
  1511 00000E52 50                              	PUSH	EAX
  1512 00000E53 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
  1513 00000E56 40                              	INC	EAX
  1514 00000E57 50                              	PUSH	EAX
  1515 00000E58 FF 75 08                        	PUSH	DWORD [8+EBP]
  1516 00000E5B FF 75 0C                        	PUSH	DWORD [12+EBP]
  1517 00000E5E EB AA                           	JMP	L284
  1518 00000E60                                 L296:
  1519 00000E60 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
  1520 00000E63 83 C0 0F                        	ADD	EAX,15
  1521 00000E66 83 E0 F0                        	AND	EAX,-16
  1522 00000E69 50                              	PUSH	EAX
  1523 00000E6A 8B 45 18                        	MOV	EAX,DWORD [24+EBP]
  1524 00000E6D FF 75 24                        	PUSH	DWORD [36+EBP]
  1525 00000E70 01 F8                           	ADD	EAX,EDI
  1526 00000E72 50                              	PUSH	EAX
  1527 00000E73 E8 [00000000]                   	CALL	_memman_free
  1528 00000E78 E9 FFFFFE02                     	JMP	L279
  1529 00000E7D                                 L295:
  1530 00000E7D 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
  1531 00000E80 83 C0 0F                        	ADD	EAX,15
  1532 00000E83 83 E0 F0                        	AND	EAX,-16
  1533 00000E86 50                              	PUSH	EAX
  1534 00000E87 8B 45 18                        	MOV	EAX,DWORD [24+EBP]
  1535 00000E8A 01 F8                           	ADD	EAX,EDI
  1536 00000E8C 50                              	PUSH	EAX
  1537 00000E8D E8 [00000000]                   	CALL	_memman_alloc
  1538 00000E92 89 45 44                        	MOV	DWORD [68+EBP],EAX
  1539 00000E95 E9 FFFFFE4F                     	JMP	L282
  1540 00000E9A                                 L294:
  1541 00000E9A 8B 5D 18                        	MOV	EBX,DWORD [24+EBP]
  1542 00000E9D 01 FB                           	ADD	EBX,EDI
  1543 00000E9F 53                              	PUSH	EBX
  1544 00000EA0 E8 [00000000]                   	CALL	_memman_init
  1545 00000EA5 83 65 20 F0                     	AND	DWORD [32+EBP],-16
  1546 00000EA9 FF 75 20                        	PUSH	DWORD [32+EBP]
  1547 00000EAC FF 75 24                        	PUSH	DWORD [36+EBP]
  1548 00000EAF 53                              	PUSH	EBX
  1549 00000EB0 E8 [00000000]                   	CALL	_memman_free
  1550 00000EB5 83 C4 10                        	ADD	ESP,16
  1551 00000EB8 E9 FFFFFD9D                     	JMP	L225
  1552 00000EBD                                 L293:
  1553 00000EBD FF 75 08                        	PUSH	DWORD [8+EBP]
  1554 00000EC0 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1555 00000EC3 FF 75 20                        	PUSH	DWORD [32+EBP]
  1556 00000EC6 8B 75 18                        	MOV	ESI,DWORD [24+EBP]
  1557 00000EC9 FF 75 24                        	PUSH	DWORD [36+EBP]
  1558 00000ECC 83 E6 FE                        	AND	ESI,-2
  1559 00000ECF 0F B6 45 10                     	MOVZX	EAX,BYTE [16+EBP]
  1560 00000ED3 50                              	PUSH	EAX
  1561 00000ED4 FF 76 04                        	PUSH	DWORD [4+ESI]
  1562 00000ED7 FF 36                           	PUSH	DWORD [ESI]
  1563 00000ED9 E8 [00000000]                   	CALL	_boxfill8
  1564 00000EDE 83 C4 1C                        	ADD	ESP,28
  1565 00000EE1 E9 FFFFFF07                     	JMP	L286
  1566 00000EE6                                 L292:
  1567 00000EE6 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
  1568 00000EE9 8B 75 18                        	MOV	ESI,DWORD [24+EBP]
  1569 00000EEC 01 F8                           	ADD	EAX,EDI
  1570 00000EEE 83 E6 FE                        	AND	ESI,-2
  1571 00000EF1 50                              	PUSH	EAX
  1572 00000EF2 0F BE 45 24                     	MOVSX	EAX,BYTE [36+EBP]
  1573 00000EF6 50                              	PUSH	EAX
  1574 00000EF7 FF 75 08                        	PUSH	DWORD [8+EBP]
  1575 00000EFA FF 75 0C                        	PUSH	DWORD [12+EBP]
  1576 00000EFD FF 76 04                        	PUSH	DWORD [4+ESI]
  1577 00000F00 FF 36                           	PUSH	DWORD [ESI]
  1578 00000F02 E8 [00000000]                   	CALL	_putfonts8_asc
  1579 00000F07 83 C4 18                        	ADD	ESP,24
  1580 00000F0A F7 45 18 00000001               	TEST	DWORD [24+EBP],1
  1581 00000F11 0F 85 FFFFFD43                  	JNE	L225
  1582 00000F17 8B 4D 0C                        	MOV	ECX,DWORD [12+EBP]
  1583 00000F1A 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1584 00000F1D 8B 55 20                        	MOV	EDX,DWORD [32+EBP]
  1585 00000F20 83 C0 10                        	ADD	EAX,16
  1586 00000F23 50                              	PUSH	EAX
  1587 00000F24 8D 04 D1                        	LEA	EAX,DWORD [ECX+EDX*8]
  1588 00000F27 50                              	PUSH	EAX
  1589 00000F28 FF 75 08                        	PUSH	DWORD [8+EBP]
  1590 00000F2B 51                              	PUSH	ECX
  1591 00000F2C E9 FFFFFED9                     	JMP	L284
  1592 00000F31                                 L291:
  1593 00000F31 FF 75 E8                        	PUSH	DWORD [-24+EBP]
  1594 00000F34 E8 [00000000]                   	CALL	_sheet_alloc
  1595 00000F39 8B 5D 18                        	MOV	EBX,DWORD [24+EBP]
  1596 00000F3C 8B 4D F0                        	MOV	ECX,DWORD [-16+EBP]
  1597 00000F3F 01 FB                           	ADD	EBX,EDI
  1598 00000F41 89 48 24                        	MOV	DWORD [36+EAX],ECX
  1599 00000F44 89 C6                           	MOV	ESI,EAX
  1600 00000F46 83 48 1C 10                     	OR	DWORD [28+EAX],16
  1601 00000F4A FF 75 24                        	PUSH	DWORD [36+EBP]
  1602 00000F4D FF 75 08                        	PUSH	DWORD [8+EBP]
  1603 00000F50 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1604 00000F53 53                              	PUSH	EBX
  1605 00000F54 50                              	PUSH	EAX
  1606 00000F55 E8 [00000000]                   	CALL	_sheet_setbuf
  1607 00000F5A 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
  1608 00000F5D 6A 00                           	PUSH	0
  1609 00000F5F 01 F8                           	ADD	EAX,EDI
  1610 00000F61 50                              	PUSH	EAX
  1611 00000F62 FF 75 08                        	PUSH	DWORD [8+EBP]
  1612 00000F65 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1613 00000F68 53                              	PUSH	EBX
  1614 00000F69 BB 00000002                     	MOV	EBX,2
  1615 00000F6E E8 [00000000]                   	CALL	_make_window8
  1616 00000F73 8B 4D E8                        	MOV	ECX,DWORD [-24+EBP]
  1617 00000F76 8B 55 E8                        	MOV	EDX,DWORD [-24+EBP]
  1618 00000F79 83 C4 2C                        	ADD	ESP,44
  1619 00000F7C 8B 42 0C                        	MOV	EAX,DWORD [12+EDX]
  1620 00000F7F 2B 45 08                        	SUB	EAX,DWORD [8+EBP]
  1621 00000F82 99                              	CDQ
  1622 00000F83 F7 FB                           	IDIV	EBX
  1623 00000F85 50                              	PUSH	EAX
  1624 00000F86 8B 41 08                        	MOV	EAX,DWORD [8+ECX]
  1625 00000F89 2B 45 0C                        	SUB	EAX,DWORD [12+EBP]
  1626 00000F8C 99                              	CDQ
  1627 00000F8D F7 FB                           	IDIV	EBX
  1628 00000F8F 83 E0 FC                        	AND	EAX,-4
  1629 00000F92 50                              	PUSH	EAX
  1630 00000F93 56                              	PUSH	ESI
  1631 00000F94 E8 [00000000]                   	CALL	_sheet_slide
  1632 00000F99 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
  1633 00000F9C FF 70 10                        	PUSH	DWORD [16+EAX]
  1634 00000F9F 56                              	PUSH	ESI
  1635 00000FA0 E8 [00000000]                   	CALL	_sheet_updown
  1636 00000FA5 89 75 44                        	MOV	DWORD [68+EBP],ESI
  1637 00000FA8 E9 FFFFFE63                     	JMP	L283
  1638 00000FAD                                 L290:
  1639 00000FAD 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
  1640 00000FB0 83 C0 30                        	ADD	EAX,48
  1641 00000FB3 E9 FFFFFCA4                     	JMP	L223
  1642 00000FB8                                 L289:
  1643 00000FB8 8B 45 18                        	MOV	EAX,DWORD [24+EBP]
  1644 00000FBB FF 75 20                        	PUSH	DWORD [32+EBP]
  1645 00000FBE 01 F8                           	ADD	EAX,EDI
  1646 00000FC0 50                              	PUSH	EAX
  1647 00000FC1 FF 75 EC                        	PUSH	DWORD [-20+EBP]
  1648 00000FC4 E8 FFFFF472                     	CALL	_cons_putstr1
  1649 00000FC9 E9 FFFFFCB1                     	JMP	L279
  1650 00000FCE                                 L288:
  1651 00000FCE 8B 45 18                        	MOV	EAX,DWORD [24+EBP]
  1652 00000FD1 01 F8                           	ADD	EAX,EDI
  1653 00000FD3 50                              	PUSH	EAX
  1654 00000FD4 FF 75 EC                        	PUSH	DWORD [-20+EBP]
  1655 00000FD7 E8 FFFFF431                     	CALL	_cons_putstr0
  1656 00000FDC E9 FFFFFD08                     	JMP	L282
  1657 00000FE1                                 L287:
  1658 00000FE1 6A 01                           	PUSH	1
  1659 00000FE3 0F B6 45 24                     	MOVZX	EAX,BYTE [36+EBP]
  1660 00000FE7 50                              	PUSH	EAX
  1661 00000FE8 FF 75 EC                        	PUSH	DWORD [-20+EBP]
  1662 00000FEB E8 FFFFF2AB                     	CALL	_cons_putchar
  1663 00000FF0 E9 FFFFFC8A                     	JMP	L279
  1664                                          [SECTION .data]
  1665 00000091                                 LC14:
  1666 00000091 0A 49 4E 54 20 30 43 20 3A 0A   	DB	0x0A,"INT 0C :",0x0A," Stack Exception.",0x0A,0x00
       0000009B 20 53 74 61 63 6B 20 45 78 63 
       000000A5 65 70 74 69 6F 6E 2E 0A 00 
  1667 000000AE                                 LC15:
  1668 000000AE 45 49 50 20 3D 20 25 30 38 58   	DB	"EIP = %08X",0x0A,0x00
       000000B8 0A 00 
  1669                                          [SECTION .text]
  1670 00000FF5                                 	GLOBAL	_inthandler0c
  1671 00000FF5                                 _inthandler0c:
  1672 00000FF5 55                              	PUSH	EBP
  1673 00000FF6 89 E5                           	MOV	EBP,ESP
  1674 00000FF8 57                              	PUSH	EDI
  1675 00000FF9 56                              	PUSH	ESI
  1676 00000FFA 53                              	PUSH	EBX
  1677 00000FFB 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
  1678 00000FFE 83 EC 20                        	SUB	ESP,32
  1679 00001001 E8 [00000000]                   	CALL	_task_now
  1680 00001006 89 C6                           	MOV	ESI,EAX
  1681 00001008 8B B8 00000094                  	MOV	EDI,DWORD [148+EAX]
  1682 0000100E 83 C6 30                        	ADD	ESI,48
  1683 00001011 68 [00000091]                   	PUSH	LC14
  1684 00001016 57                              	PUSH	EDI
  1685 00001017 E8 FFFFF3F1                     	CALL	_cons_putstr0
  1686 0000101C 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1687 0000101F FF 70 2C                        	PUSH	DWORD [44+EAX]
  1688 00001022 68 [000000AE]                   	PUSH	LC15
  1689 00001027 53                              	PUSH	EBX
  1690 00001028 E8 [00000000]                   	CALL	_sprintf
  1691 0000102D 53                              	PUSH	EBX
  1692 0000102E 57                              	PUSH	EDI
  1693 0000102F E8 FFFFF3D9                     	CALL	_cons_putstr0
  1694 00001034 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1695 00001037 5B                              	POP	EBX
  1696 00001038 89 F0                           	MOV	EAX,ESI
  1697 0000103A 5E                              	POP	ESI
  1698 0000103B 5F                              	POP	EDI
  1699 0000103C 5D                              	POP	EBP
  1700 0000103D C3                              	RET
  1701                                          [SECTION .data]
  1702 000000BA                                 LC16:
  1703 000000BA 0A 49 4E 54 20 30 44 20 3A 0A   	DB	0x0A,"INT 0D :",0x0A," General Protected Exception.",0x0A,0x00
       000000C4 20 47 65 6E 65 72 61 6C 20 50 
       000000CE 72 6F 74 65 63 74 65 64 20 45 
       000000D8 78 63 65 70 74 69 6F 6E 2E 0A 
       000000E2 00 
  1704                                          [SECTION .text]
  1705 0000103E                                 	GLOBAL	_inthandler0d
  1706 0000103E                                 _inthandler0d:
  1707 0000103E 55                              	PUSH	EBP
  1708 0000103F 89 E5                           	MOV	EBP,ESP
  1709 00001041 57                              	PUSH	EDI
  1710 00001042 56                              	PUSH	ESI
  1711 00001043 53                              	PUSH	EBX
  1712 00001044 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
  1713 00001047 83 EC 20                        	SUB	ESP,32
  1714 0000104A E8 [00000000]                   	CALL	_task_now
  1715 0000104F 89 C6                           	MOV	ESI,EAX
  1716 00001051 8B B8 00000094                  	MOV	EDI,DWORD [148+EAX]
  1717 00001057 83 C6 30                        	ADD	ESI,48
  1718 0000105A 68 [000000BA]                   	PUSH	LC16
  1719 0000105F 57                              	PUSH	EDI
  1720 00001060 E8 FFFFF3A8                     	CALL	_cons_putstr0
  1721 00001065 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1722 00001068 FF 70 2C                        	PUSH	DWORD [44+EAX]
  1723 0000106B 68 [000000AE]                   	PUSH	LC15
  1724 00001070 53                              	PUSH	EBX
  1725 00001071 E8 [00000000]                   	CALL	_sprintf
  1726 00001076 53                              	PUSH	EBX
  1727 00001077 57                              	PUSH	EDI
  1728 00001078 E8 FFFFF390                     	CALL	_cons_putstr0
  1729 0000107D 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1730 00001080 5B                              	POP	EBX
  1731 00001081 89 F0                           	MOV	EAX,ESI
  1732 00001083 5E                              	POP	ESI
  1733 00001084 5F                              	POP	EDI
  1734 00001085 5D                              	POP	EBP
  1735 00001086 C3                              	RET
  1736 00001087                                 	GLOBAL	_hrb_api_linewin
  1737 00001087                                 _hrb_api_linewin:
  1738 00001087 55                              	PUSH	EBP
  1739 00001088 89 E5                           	MOV	EBP,ESP
  1740 0000108A 57                              	PUSH	EDI
  1741 0000108B 56                              	PUSH	ESI
  1742 0000108C 53                              	PUSH	EBX
  1743 0000108D 83 EC 0C                        	SUB	ESP,12
  1744 00001090 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
  1745 00001093 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
  1746 00001096 89 D9                           	MOV	ECX,EBX
  1747 00001098 8B 55 18                        	MOV	EDX,DWORD [24+EBP]
  1748 0000109B C1 E1 0A                        	SAL	ECX,10
  1749 0000109E 89 D7                           	MOV	EDI,EDX
  1750 000010A0 89 4D F0                        	MOV	DWORD [-16+EBP],ECX
  1751 000010A3 89 C6                           	MOV	ESI,EAX
  1752 000010A5 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
  1753 000010A8 2B 7D 10                        	SUB	EDI,DWORD [16+EBP]
  1754 000010AB C1 E1 0A                        	SAL	ECX,10
  1755 000010AE 29 DE                           	SUB	ESI,EBX
  1756 000010B0 89 4D EC                        	MOV	DWORD [-20+EBP],ECX
  1757 000010B3 0F 88 000000A3                  	JS	L333
  1758 000010B9                                 L312:
  1759 000010B9 85 FF                           	TEST	EDI,EDI
  1760 000010BB 0F 88 00000094                  	JS	L334
  1761 000010C1                                 L313:
  1762 000010C1 39 FE                           	CMP	ESI,EDI
  1763 000010C3 7C 62                           	JL	L314
  1764 000010C5 8D 4E 01                        	LEA	ECX,DWORD [1+ESI]
  1765 000010C8 39 C3                           	CMP	EBX,EAX
  1766 000010CA BE FFFFFC00                     	MOV	ESI,-1024
  1767 000010CF 7F 05                           	JG	L316
  1768 000010D1 BE 00000400                     	MOV	ESI,1024
  1769 000010D6                                 L316:
  1770 000010D6 39 55 10                        	CMP	DWORD [16+EBP],EDX
  1771 000010D9 7F 46                           	JG	L317
  1772 000010DB 2B 55 10                        	SUB	EDX,DWORD [16+EBP]
  1773 000010DE 42                              	INC	EDX
  1774 000010DF                                 L332:
  1775 000010DF C1 E2 0A                        	SAL	EDX,10
  1776 000010E2 89 D0                           	MOV	EAX,EDX
  1777 000010E4 99                              	CDQ
  1778 000010E5 F7 F9                           	IDIV	ECX
  1779 000010E7 89 C7                           	MOV	EDI,EAX
  1780 000010E9                                 L319:
  1781 000010E9 85 C9                           	TEST	ECX,ECX
  1782 000010EB 7E 2C                           	JLE	L330
  1783 000010ED 89 CB                           	MOV	EBX,ECX
  1784 000010EF                                 L328:
  1785 000010EF 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
  1786 000010F2 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
  1787 000010F5 C1 F8 0A                        	SAR	EAX,10
  1788 000010F8 8B 4D F0                        	MOV	ECX,DWORD [-16+EBP]
  1789 000010FB 0F AF 42 04                     	IMUL	EAX,DWORD [4+EDX]
  1790 000010FF C1 F9 0A                        	SAR	ECX,10
  1791 00001102 89 4D E8                        	MOV	DWORD [-24+EBP],ECX
  1792 00001105 8B 0A                           	MOV	ECX,DWORD [EDX]
  1793 00001107 03 45 E8                        	ADD	EAX,DWORD [-24+EBP]
  1794 0000110A 8A 55 1C                        	MOV	DL,BYTE [28+EBP]
  1795 0000110D 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
  1796 00001110 01 75 F0                        	ADD	DWORD [-16+EBP],ESI
  1797 00001113 01 7D EC                        	ADD	DWORD [-20+EBP],EDI
  1798 00001116 4B                              	DEC	EBX
  1799 00001117 75 D6                           	JNE	L328
  1800 00001119                                 L330:
  1801 00001119 83 C4 0C                        	ADD	ESP,12
  1802 0000111C 5B                              	POP	EBX
  1803 0000111D 5E                              	POP	ESI
  1804 0000111E 5F                              	POP	EDI
  1805 0000111F 5D                              	POP	EBP
  1806 00001120 C3                              	RET
  1807 00001121                                 L317:
  1808 00001121 2B 55 10                        	SUB	EDX,DWORD [16+EBP]
  1809 00001124 4A                              	DEC	EDX
  1810 00001125 EB B8                           	JMP	L332
  1811 00001127                                 L314:
  1812 00001127 8D 4F 01                        	LEA	ECX,DWORD [1+EDI]
  1813 0000112A 39 55 10                        	CMP	DWORD [16+EBP],EDX
  1814 0000112D BF FFFFFC00                     	MOV	EDI,-1024
  1815 00001132 7F 05                           	JG	L321
  1816 00001134 BF 00000400                     	MOV	EDI,1024
  1817 00001139                                 L321:
  1818 00001139 39 C3                           	CMP	EBX,EAX
  1819 0000113B 7F 11                           	JG	L322
  1820 0000113D 29 D8                           	SUB	EAX,EBX
  1821 0000113F 8D 50 01                        	LEA	EDX,DWORD [1+EAX]
  1822 00001142                                 L331:
  1823 00001142 C1 E2 0A                        	SAL	EDX,10
  1824 00001145 89 D0                           	MOV	EAX,EDX
  1825 00001147 99                              	CDQ
  1826 00001148 F7 F9                           	IDIV	ECX
  1827 0000114A 89 C6                           	MOV	ESI,EAX
  1828 0000114C EB 9B                           	JMP	L319
  1829 0000114E                                 L322:
  1830 0000114E 29 D8                           	SUB	EAX,EBX
  1831 00001150 8D 50 FF                        	LEA	EDX,DWORD [-1+EAX]
  1832 00001153 EB ED                           	JMP	L331
  1833 00001155                                 L334:
  1834 00001155 F7 DF                           	NEG	EDI
  1835 00001157 E9 FFFFFF65                     	JMP	L313
  1836 0000115C                                 L333:
  1837 0000115C F7 DE                           	NEG	ESI
  1838 0000115E E9 FFFFFF56                     	JMP	L312
